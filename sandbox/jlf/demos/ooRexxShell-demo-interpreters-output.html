<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- This file was created with the aha Ansi HTML Adapter. https://github.com/theZiz/aha -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8"/>
<title>stdin</title>
</head>
<body>
<pre>
<span style="font-weight:bold;color:green;">loadPackage OK for extension/extensions.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for rxunixsys
</span><span style="font-weight:bold;color:green;">loadPackage OK for ncurses.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for csvStream.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for hostemu
</span><span style="font-weight:bold;color:green;">loadPackage OK for json.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for mime.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rxftp.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for rxmath
</span><span style="font-weight:bold;color:green;">loadPackage OK for rxregexp.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for regex/regex.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for smtp.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for socket.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for streamsocket.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for pipeline/pipe.rex
</span><span style="font-weight:bold;color:green;">loadPackage OK for rgf_util2/rgf_util2.rex
</span><span style="font-weight:bold;color:green;">loadPackage OK for BSF.CLS
</span><span style="font-weight:bold;color:green;">loadPackage OK for oorexxshell_queries.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for pipeline/pipe_extension.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rgf_util2/rgf_util2_wrappers.rex
</span><span style="font-weight:bold;color:green;">
</span><span style="font-weight:bold;color:green;">REXX-ooRexx_4.3.0(MT)_64-bit 6.04 15 Jul 2021
</span><span style="font-weight:bold;color:green;">Input queue name: S23b9Q7fd44851b920
</span>
<span style="color:blue;">--------------
</span><span style="color:blue;">-- ooRexxShell
</span><span style="color:blue;">--------------
</span>
<span style="color:blue;">ooRexxShell, derived from rexxtry.
</span>
<span style="color:blue;">This shell supports several interpreters:
</span><span style="color:blue;">- ooRexx itself
</span><span style="color:blue;">- the system address (cmd under Windows, sh or bash under Linux and MacOs)
</span><span style="color:blue;">- PowerShell core (pwsh)
</span><span style="color:blue;">- any other external environment (you need to modify ooRexxShell, search for hostemu for an example).
</span>
<span style="color:blue;">The prompt indicates which interpreter is active.
</span><span style="color:blue;">By default the shell is in ooRexx mode: ooRexx[bash]&gt;
</span><span style="color:blue;">When the interpreter is ooRexx, the value of address() is displayed between [].
</span><span style="font-weight:bold;color:olive;">
</span>ooRexx[bash]&gt; say &quot;hello&quot;
hello
<span style="font-weight:bold;color:olive;">
</span>ooRexx[bash]&gt; say 1+2
3

<span style="color:blue;">A shell command can be used in ooRexx mode, surrounded with quotes.
</span><span style="font-weight:bold;color:olive;">
</span>ooRexx[bash]&gt; 'ls -lap'
total 6208
drwxr-xr-x  40 jlfaucher  admin    1280 Jul 27 14:45 ./
drwxr-xr-x  14 jlfaucher  admin     448 Jul 14 14:50 ../
-rw-r--r--@  1 jlfaucher  admin    6148 Jun  5 23:47 .DS_Store
-rw-r--r--@  1 jlfaucher  admin    1820 Jul 16 17:18 Makefile
-rw-r--r--@  1 jlfaucher  admin    1083 Jun  6 02:51 _readme-demos.txt
drwxr-xr-x   7 jlfaucher  admin     224 May 31 22:54 arch/
-rwxr-xr-x@  1 jlfaucher  admin     425 Jun  1 04:12 demo
-rw-r--r--@  1 jlfaucher  admin   16755 Jun  6 02:27 executor-demo-array-output.html
-rw-r--r--   1 jlfaucher  admin    7764 Jun  1 04:14 executor-demo-array-output.txt
-rw-r--r--   1 jlfaucher  admin   42464 Jul 27 14:25 executor-demo-array.cast
-rw-r--r--@  1 jlfaucher  admin    5783 Jul 27 11:29 executor-demo-array.txt
-rw-r--r--@  1 jlfaucher  admin  322774 Jun  6 02:27 executor-demo-classic_rexx-output.html
-rw-r--r--   1 jlfaucher  admin  310045 Jun  1 02:59 executor-demo-classic_rexx-output.txt
-rw-r--r--   1 jlfaucher  admin  384245 Jul 27 14:28 executor-demo-classic_rexx.cast
-rw-r--r--@  1 jlfaucher  admin    1541 Jul 27 11:29 executor-demo-classic_rexx.txt
-rw-r--r--@  1 jlfaucher  admin   14023 Jun 28 20:23 executor-demo-extensions-output.html
-rw-r--r--   1 jlfaucher  admin    8630 Jun 28 20:23 executor-demo-extensions-output.txt
-rw-r--r--   1 jlfaucher  admin   31425 Jul 27 14:32 executor-demo-extensions.cast
-rw-r--r--@  1 jlfaucher  admin    2863 Jul 27 11:30 executor-demo-extensions.txt
-rw-r--r--@  1 jlfaucher  admin   26889 Jul 26 05:59 executor-demo-text-internal_checks-output.html
-rw-r--r--@  1 jlfaucher  admin   12871 Jul 26 05:59 executor-demo-text-internal_checks-output.txt
-rw-r--r--   1 jlfaucher  admin  135610 Jul 27 14:45 executor-demo-text-internal_checks.cast
-rw-r--r--@  1 jlfaucher  admin    8924 Jul 27 14:18 executor-demo-text-internal_checks.txt
-rw-r--r--@  1 jlfaucher  admin   22963 Jul 26 05:59 executor-demo-text-output.html
-rw-r--r--@  1 jlfaucher  admin   12456 Jul 26 05:59 executor-demo-text-output.txt
-rw-r--r--   1 jlfaucher  admin   76272 Jul 27 14:38 executor-demo-text.cast
-rw-r--r--@  1 jlfaucher  admin   11611 Jul 27 13:21 executor-demo-text.txt
-rw-r--r--@  1 jlfaucher  admin    7048 Jun  6 02:27 ooRexxShell-demo-helpers-output.html
-rw-r--r--   1 jlfaucher  admin    3529 Jun  1 04:14 ooRexxShell-demo-helpers-output.txt
-rw-r--r--   1 jlfaucher  admin    9677 Jul 27 14:45 ooRexxShell-demo-helpers.cast
-rw-r--r--@  1 jlfaucher  admin     807 Jul 27 11:30 ooRexxShell-demo-helpers.txt
-rw-r--r--@  1 jlfaucher  admin   16344 Jun  6 02:27 ooRexxShell-demo-interpreters-output.html
-rw-r--r--   1 jlfaucher  admin    9914 Jun  1 04:20 ooRexxShell-demo-interpreters-output.txt
-rw-r--r--   1 jlfaucher  admin    5282 Jul 27 14:46 ooRexxShell-demo-interpreters.cast
-rw-r--r--@  1 jlfaucher  admin    3659 Jul 27 11:31 ooRexxShell-demo-interpreters.txt
-rw-r--r--@  1 jlfaucher  admin  408823 Jun  6 02:27 ooRexxShell-demo-queries-output.html
-rw-r--r--@  1 jlfaucher  admin  396041 Jun  1 03:40 ooRexxShell-demo-queries-output.txt
-rw-r--r--   1 jlfaucher  admin  546449 May 31 23:15 ooRexxShell-demo-queries.cast
-rw-r--r--@  1 jlfaucher  admin    3841 Jul 27 11:31 ooRexxShell-demo-queries.txt
-rw-r--r--@  1 jlfaucher  admin   12449 Jul 26 05:32 out.txt

<span style="color:blue;">When not in ooRexx mode, you enter raw commands that are passed directly to the external environment.
</span><span style="color:blue;">You switch from an interpreter to an other one by entering its name alone.
</span><span style="color:blue;">To get the list of all interpreter names, enter this command:
</span><span style="color:blue;">?i[nterpreters]
</span><span style="color:blue;">Under Linux &amp; MacOs, this list includes the shells in /etc/shells.
</span><span style="font-weight:bold;color:olive;">
</span>ooRexx[bash]&gt; ?interpreters
Interpreters:
    bash: to activate the bash interpreter.
    cmd: to activate the sh interpreter.
    command: to activate the sh interpreter.
    csh: to activate the csh interpreter.
    hostemu: to activate the HostEmu interpreter.
    ksh: to activate the ksh interpreter.
    oorexx: to activate the ooRexx interpreter.
    pwsh: to activate the pwsh interpreter.
    screen: to activate the screen interpreter.
    sh: to activate the sh interpreter.
    system: to activate the sh interpreter.
    tcsh: to activate the tcsh interpreter.
    zsh: to activate the zsh interpreter.
<span style="font-weight:bold;color:green;">[Info] 14 lines displayed
</span>
<span style="color:blue;">'cmd' 'command' and &quot;system&quot; are aliases to select the system interpreter.
</span><span style="font-weight:bold;color:olive;">
</span>ooRexx[bash]&gt; system

<span style="color:blue;">Now the default interpreter is the system shell.
</span><span style="color:blue;">No need to surround the commands with quotes.
</span><span style="font-weight:bold;color:olive;">
</span>sh[ooRexx]&gt; ls -lap
total 6216
drwxr-xr-x  40 jlfaucher  admin    1280 Jul 27 14:45 ./
drwxr-xr-x  14 jlfaucher  admin     448 Jul 14 14:50 ../
-rw-r--r--@  1 jlfaucher  admin    6148 Jun  5 23:47 .DS_Store
-rw-r--r--@  1 jlfaucher  admin    1820 Jul 16 17:18 Makefile
-rw-r--r--@  1 jlfaucher  admin    1083 Jun  6 02:51 _readme-demos.txt
drwxr-xr-x   7 jlfaucher  admin     224 May 31 22:54 arch/
-rwxr-xr-x@  1 jlfaucher  admin     425 Jun  1 04:12 demo
-rw-r--r--@  1 jlfaucher  admin   16755 Jun  6 02:27 executor-demo-array-output.html
-rw-r--r--   1 jlfaucher  admin    7764 Jun  1 04:14 executor-demo-array-output.txt
-rw-r--r--   1 jlfaucher  admin   42464 Jul 27 14:25 executor-demo-array.cast
-rw-r--r--@  1 jlfaucher  admin    5783 Jul 27 11:29 executor-demo-array.txt
-rw-r--r--@  1 jlfaucher  admin  322774 Jun  6 02:27 executor-demo-classic_rexx-output.html
-rw-r--r--   1 jlfaucher  admin  310045 Jun  1 02:59 executor-demo-classic_rexx-output.txt
-rw-r--r--   1 jlfaucher  admin  384245 Jul 27 14:28 executor-demo-classic_rexx.cast
-rw-r--r--@  1 jlfaucher  admin    1541 Jul 27 11:29 executor-demo-classic_rexx.txt
-rw-r--r--@  1 jlfaucher  admin   14023 Jun 28 20:23 executor-demo-extensions-output.html
-rw-r--r--   1 jlfaucher  admin    8630 Jun 28 20:23 executor-demo-extensions-output.txt
-rw-r--r--   1 jlfaucher  admin   31425 Jul 27 14:32 executor-demo-extensions.cast
-rw-r--r--@  1 jlfaucher  admin    2863 Jul 27 11:30 executor-demo-extensions.txt
-rw-r--r--@  1 jlfaucher  admin   26889 Jul 26 05:59 executor-demo-text-internal_checks-output.html
-rw-r--r--@  1 jlfaucher  admin   12871 Jul 26 05:59 executor-demo-text-internal_checks-output.txt
-rw-r--r--   1 jlfaucher  admin  135610 Jul 27 14:45 executor-demo-text-internal_checks.cast
-rw-r--r--@  1 jlfaucher  admin    8924 Jul 27 14:18 executor-demo-text-internal_checks.txt
-rw-r--r--@  1 jlfaucher  admin   22963 Jul 26 05:59 executor-demo-text-output.html
-rw-r--r--@  1 jlfaucher  admin   12456 Jul 26 05:59 executor-demo-text-output.txt
-rw-r--r--   1 jlfaucher  admin   76272 Jul 27 14:38 executor-demo-text.cast
-rw-r--r--@  1 jlfaucher  admin   11611 Jul 27 13:21 executor-demo-text.txt
-rw-r--r--@  1 jlfaucher  admin    7048 Jun  6 02:27 ooRexxShell-demo-helpers-output.html
-rw-r--r--   1 jlfaucher  admin    3529 Jun  1 04:14 ooRexxShell-demo-helpers-output.txt
-rw-r--r--   1 jlfaucher  admin    9677 Jul 27 14:45 ooRexxShell-demo-helpers.cast
-rw-r--r--@  1 jlfaucher  admin     807 Jul 27 11:30 ooRexxShell-demo-helpers.txt
-rw-r--r--@  1 jlfaucher  admin   16344 Jun  6 02:27 ooRexxShell-demo-interpreters-output.html
-rw-r--r--   1 jlfaucher  admin    9914 Jun  1 04:20 ooRexxShell-demo-interpreters-output.txt
-rw-r--r--   1 jlfaucher  admin   11653 Jul 27 14:46 ooRexxShell-demo-interpreters.cast
-rw-r--r--@  1 jlfaucher  admin    3659 Jul 27 11:31 ooRexxShell-demo-interpreters.txt
-rw-r--r--@  1 jlfaucher  admin  408823 Jun  6 02:27 ooRexxShell-demo-queries-output.html
-rw-r--r--@  1 jlfaucher  admin  396041 Jun  1 03:40 ooRexxShell-demo-queries-output.txt
-rw-r--r--   1 jlfaucher  admin  546449 May 31 23:15 ooRexxShell-demo-queries.cast
-rw-r--r--@  1 jlfaucher  admin    3841 Jul 27 11:31 ooRexxShell-demo-queries.txt
-rw-r--r--@  1 jlfaucher  admin   12449 Jul 26 05:32 out.txt

<span style="color:blue;">HostEmu is a subcommand environment that partially emulates a TSO/CMS environment.
</span><span style="font-weight:bold;color:olive;">
</span>sh[ooRexx]&gt; hostemu

<span style="color:blue;">Now the default interpreteur is HostEmu.
</span><span style="color:blue;">No need to surround the commands with quotes.
</span>
<span style="color:blue;">EXECIO is an I/O mechanism.
</span><span style="color:blue;">The following command will read the 10 first lines from the file &quot;../builder/scripts/setenv&quot;.
</span><span style="color:blue;">They are stored in the stem named &quot;lines.&quot;.
</span><span style="font-weight:bold;color:olive;">
</span>HostEmu[ooRexx]&gt; execio 10 diskr &quot;../builder/scripts/setenv&quot; (finis stem lines.
<span style="font-weight:bold;color:red;">RC= 24
</span>
<span style="color:blue;">When in HostEmu mode, the ooRexx expressions are not recognized
</span><span style="font-weight:bold;color:olive;">
</span>HostEmu[ooRexx]&gt; lines.=
hostemu: bad PLIST, token &quot;syntax error&quot;
<span style="font-weight:bold;color:red;">RC= 24
</span>
<span style="color:blue;">You can switch temporarily to ooRexx to display the result.
</span><span style="color:blue;">For that, start your command line with &quot;oorexx&quot;.
</span><span style="font-weight:bold;color:olive;">
</span>HostEmu[ooRexx]&gt; oorexx lines.=
a Stem (0 items)

<span style="color:blue;">Switch to PowerShell core.
</span><span style="color:blue;">pwsh
</span><span style="font-weight:bold;color:olive;">
</span>HostEmu[ooRexx]&gt; pwsh

<span style="color:blue;">Now the default interpreter is pwsh.
</span><span style="color:blue;">No need to surround the commands with quotes.
</span>
<span style="color:blue;">Find the commands containing &quot;rexx&quot;:
</span><span style="font-weight:bold;color:olive;">
</span>pwsh[ooRexx]&gt; get-command *rexx* | select -property name, source

Name                    Source
----                    ------
callrexx1               /local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/callrexx1
callrexx2               /local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/callrexx2
libBSF4ooRexx.dylib     /local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/libBSF4ooRexx.dylib
oorexxshell             /local/rexx/oorexx/executor/incubator/ooRexxShell/oorexxshell
oorexx_collect_docfiles /local/rexx/builder/scripts/oorexx_collect_docfiles
oorexx_vars             /local/rexx/builder/scripts/oorexx_vars
rexx                    /local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexx
rexx.cat                /local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexx.cat
rexx.img                /local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexx.img
rexxc                   /local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexxc
rexxcUtil.rex           /local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxcUtil.rex
rexxj.sh                /local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj.sh
rexxj2-32.sh            /local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2-32.sh
rexxj2-64.sh            /local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2-64.sh
rexxj2.cmd              /local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2.cmd
rexxj2.sh               /local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2.sh
rexxscriptlib.rex       /local/rexx/builder/scripts/rexxscriptlib.rex
rexxtry.rex             /local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexxtry.r…
setenv-oorexx           /local/rexx/builder/scripts/setenv-oorexx
testOORexx.rex          /local/rexx/oorexx/official/test/trunk/testOORexx.rex


<span style="color:blue;">Same command, send the output to the rexx queue without the table headers.
</span><span style="color:blue;">The empty lines are still in the output, they will be filtered on ooRexx side.
</span><span style="font-weight:bold;color:olive;">
</span>pwsh[ooRexx]&gt; get-command *rexx* | select -property name, source | format-table -HideTableHeaders | rxqueue

<span style="color:blue;">Collect the lines of the rexx queue in an array, and then parse the lines to create an ooRexx directory.
</span><span style="font-weight:bold;color:olive;">
</span>pwsh[ooRexx]&gt; oorexx .rexxqueue~new~makearray~select{item &lt;&gt; &quot;&quot;}~reduce(.directory~new){parse value item~space with name source; accu[name]=source}=
a Directory (20 items)
'callrexx1'               : '/local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/callrexx1'
'callrexx2'               : '/local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/callrexx2'
'libBSF4ooRexx.dylib'     : '/local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/libBSF4ooRexx.dylib'
'oorexxshell'             : '/local/rexx/oorexx/executor/incubator/ooRexxShell/oorexxshell'
'oorexx_collect_docfiles' : '/local/rexx/builder/scripts/oorexx_collect_docfiles'
'oorexx_vars'             : '/local/rexx/builder/scripts/oorexx_vars'
'rexx'                    : '/local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexx'
'rexx.cat'                : '/local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexx.cat'
'rexx.img'                : '/local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexx.img'
'rexxc'                   : '/local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexxc'
'rexxcUtil.rex'           : '/local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxcUtil.rex'
'rexxj.sh'                : '/local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj.sh'
'rexxj2-32.sh'            : '/local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2-32.sh'
'rexxj2-64.sh'            : '/local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2-64.sh'
'rexxj2.cmd'              : '/local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2.cmd'
'rexxj2.sh'               : '/local/rexx/bsf4oorexx/BSF4ooRexx_install_v641-20210724-beta/bsf4oorexx/rexxj2.sh'
'rexxscriptlib.rex'       : '/local/rexx/builder/scripts/rexxscriptlib.rex'
'rexxtry.rex'             : '/local/rexx/oorexx/build/executor.master/sandbox/jlf/trunk/macos/clang/release/64/delivery/bin/rexxtry.rex'
'setenv-oorexx'           : '/local/rexx/builder/scripts/setenv-oorexx'
'testOORexx.rex'          : '/local/rexx/oorexx/official/test/trunk/testOORexx.rex'

<span style="color:blue;">Back to the ooRexx interpreter, by entering &quot;oorexx&quot; alone.
</span><span style="font-weight:bold;color:olive;">
</span>pwsh[ooRexx]&gt; oorexx
<span style="font-weight:bold;color:olive;">
</span>ooRexx[bash]&gt; say &quot;The default interpreter is now ooRexx&quot;
The default interpreter is now ooRexx

<span style="color:blue;">End of demonstration.
</span></pre>
</body>
</html>
