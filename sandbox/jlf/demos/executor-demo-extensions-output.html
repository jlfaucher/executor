<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- This file was created with the aha Ansi HTML Adapter. https://github.com/theZiz/aha -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8"/>
<title>executor-demo-extensions-output.html</title>
</head>
<body>
<pre>
<span style="font-weight:bold;color:green;">loadPackage OK for extension/stringChunk.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for utilities/indentedStream.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for extension/extensions.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for rxunixsys
</span><span style="font-weight:bold;color:green;">loadPackage OK for ncurses.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for csvStream.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for hostemu
</span><span style="font-weight:bold;color:green;">loadPackage OK for json.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for mime.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rxftp.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for rxmath
</span><span style="font-weight:bold;color:green;">loadPackage OK for rxregexp.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for regex/regex.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for smtp.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for socket.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for streamsocket.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for pipeline/pipe.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rgf_util2/rgf_util2.rex
</span><span style="font-weight:bold;color:green;">loadPackage OK for BSF.CLS
</span><span style="font-weight:bold;color:green;">loadPackage OK for oorexxshell_queries.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for pipeline/pipe_extension.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rgf_util2/rgf_util2_wrappers.rex
</span><span style="font-weight:bold;color:green;">
</span><span style="font-weight:bold;color:green;">REXX-ooRexx_4.3.0(MT)_64-bit 6.04 11 Apr 2024
</span><span style="font-weight:bold;color:green;">Input queue name: Sb946Q600003f11ad0
</span>
<span style="font-weight:bold;color:blue;">----------------------
</span><span style="font-weight:bold;color:blue;">-- Executor extensions
</span><span style="font-weight:bold;color:blue;">----------------------
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The directive ::EXTENSION delegates to the methods .class~define and .class~inherit.
</span><span style="font-weight:bold;color:blue;">The changes are allowed on predefined classes, and are propagated to existing instances.
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">&gt;&gt;-::EXTENSION--classname----+-------------------+-----------------&gt;&lt;
</span><span style="font-weight:bold;color:blue;">                             +-INHERIT--iclasses-+
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">Examples of extensions:
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">::extension Array       inherit ArrayInitializer ArrayPrettyPrinter
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">::extension Object
</span><span style="font-weight:bold;color:blue;">::method isNil
</span><span style="font-weight:bold;color:blue;">    return self == .nil
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">-- Query listing all the methods added by extension on the class String
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">?cmi string &lt;&gt; (rexx)</span>

<span style="font-weight:bold;color:green;">[Info] [1] Class 'String' P. (REXX)
</span>P. P.G.    '?'                                  : 'String' 'LogicalExtension' (logical.cls)
P. P.G.    'ABBREV2'                            : 'String' 'String' (rgf_util2_wrappers.rex)
P. PCG.    'ALNUM'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. PCG.    'ALPHA'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P...    'ARITY'                              : 'String' 'Doer' (doers.cls)
P. PCG.    'BLANK'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'C2G'                                : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'C2U'                                : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'CALL'                               : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'CASEFOLD'                           : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'CASELESSCONTAINS'                   : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'CASELESSENDSWITH'                   : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'CASELESSSPLIT'                      : 'String' 'StringHelpers' (string.cls)
P. P.G.    'CASELESSSTARTSWITH'                 : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'CHANGESTR2'                         : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'CHARACTER'                          : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'CHARACTERS'                         : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'CHECKHEXADECIMALVALUECOMPATIBILITY' : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'CHECKLOGICALVALUECOMPATIBILITY'     : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'CHECKNUMERICVALUECOMPATIBILITY'     : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'CHUNK'                              : 'String' 'StringHelpers' (string.cls)
P. P.G.    'CHUNKS'                             : 'String' 'StringHelpers' (string.cls)
P. PCG.    'CNTRL'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'CODEPOINTS'                         : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'COMPARE2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. PCG.    'COMPOSE'                            : 'String' 'Doer' (doers.cls)
P. P.G.    'CONTAINS'                           : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P...    'COPIPE'                             : 'String' 'Object' (pipe_extension.cls)
P. PC..    'COPIPE'                             : 'String' 'Object' (pipe_extension.cls)
P. P...    'COPIPEPROFILE'                      : 'String' 'Object' (pipe_extension.cls)
P. P.G.    'COPY'                               : 'String' 'EncodedString' (text.cls)
P. P.G.    'COUNTSTR2'                          : 'String' 'String' (rgf_util2_wrappers.rex)
P. PCG.    'CR'                                 : 'String' 'String' (CoreClasses.orx)
P. P.G.    'DELSTR2'                            : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'DELWORD2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'DEPTH'                              : 'String' 'Object' (array.cls)
P. P.G.    'DESCRIPTION'                        : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'DESCRIPTIONFORERROR'                : 'String' 'StringRexxTextInterface' (text.cls)
P. PCG.    'DIGIT'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'DISCLOSE'                           : 'String' 'Object' (array.cls)
P. P...    'DO'                                 : 'String' 'StringDoer' (doers.cls)
P. P.G.    'DO'                                 : 'String' 'Doer' (doers.cls)
P. P...    'DOER'                               : 'String' 'StringDoer' (doers.cls)
P. P.G.    'DOER'                               : 'String' 'DoerFactory' (doers.cls)
P. P...    'DOWITH'                             : 'String' 'StringDoer' (doers.cls)
P. P.G.    'DOWITH'                             : 'String' 'Doer' (doers.cls)
P. P...    'DOWITHNAMEDARGUMENTS'               : 'String' 'Doer' (doers.cls)
P. P...    'DOWNTO'                             : 'String' 'RepeaterCollector' (functionals.cls)
P. P...    'DROPC'                              : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPCI'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPFIRSTC'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPFIRSTCI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPFIRSTW'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPFIRSTWI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPLASTC'                          : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPLASTCI'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPLASTW'                          : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPLASTWI'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPUNTILC'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPUNTILCI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPUNTILW'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPUNTILWI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPW'                              : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPWHILEC'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPWHILECI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPWHILEW'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPWHILEWI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'DROPWI'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P.G.    'DUMP2'                              : 'String' 'Object' (rgf_util2_wrappers.rex)
P. P.G.    'EACH'                               : 'String' 'Object' (array.cls)
P. P...    'EACHC'                              : 'String' 'TextOrBufferOrStringIterator' (functionals.cls)
P. P...    'EACHCI'                             : 'String' 'TextOrBufferOrStringIterator' (functionals.cls)
P. P...    'EACHW'                              : 'String' 'TextOrBufferOrStringIterator' (functionals.cls)
P. P...    'EACHWI'                             : 'String' 'TextOrBufferOrStringIterator' (functionals.cls)
P. P.G.    'ENCLOSE'                            : 'String' 'Object' (array.cls)
P. P.G.    'ENCODING'                           : 'String' 'EncodedString' (text.cls)
P. P.G.    'ENCODING='                          : 'String' 'EncodedString' (text.cls)
P. P.G.    'ENDSWITH'                           : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'ENQUOTE2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'ERRORS'                             : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ESCAPE2'                            : 'String' 'String' (rgf_util2_wrappers.rex)
P. PCG.    'GENERATE'                           : 'String' 'Object' (generator.cls)
P. P.G.    'GENERATE'                           : 'String' 'Object' (generator.cls)
P. P...    'GENERATE.DOWNTO'                    : 'String' 'RepeaterGenerator' (generator.cls)
P. P...    'GENERATE.UPTO'                      : 'String' 'RepeaterGenerator' (generator.cls)
P. P...    'GENERATEC'                          : 'String' 'TextOrBufferOrStringGenerator' (generator.cls)
P. P...    'GENERATECI'                         : 'String' 'TextOrBufferOrStringGenerator' (generator.cls)
P. PCG.    'GENERATEI'                          : 'String' 'Object' (generator.cls)
P. P.G.    'GENERATEI'                          : 'String' 'Object' (generator.cls)
P. P...    'GENERATEW'                          : 'String' 'TextOrBufferOrStringGenerator' (generator.cls)
P. P...    'GENERATEWI'                         : 'String' 'TextOrBufferOrStringGenerator' (generator.cls)
P. PCG.    'GETUSERDATA'                        : 'String' 'Object' (object.cls)
P. P.G.    'GETUSERDATA'                        : 'String' 'Object' (object.cls)
P. P...    'GO'                                 : 'String' 'Doer' (doers.cls)
P. P...    'GOWITH'                             : 'String' 'Doer' (doers.cls)
P. PCG.    'GRAPH'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'GRAPHEME'                           : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'GRAPHEMES'                          : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'HASENCODING'                        : 'String' 'EncodedString' (text.cls)
P. P.G.    'HASTEXT'                            : 'String' 'EncodedString' (text.cls)
P. P...    'IFFALSE'                            : 'String' 'LogicalExtension' (logical.cls)
P. P...    'IFTRUE'                             : 'String' 'LogicalExtension' (logical.cls)
P. PCG.    'ISBUFFERORSTRING'                   : 'String' 'Object' (text.cls)
P. P.G.    'ISBUFFERORSTRING'                   : 'String' 'EncodedString' (text.cls)
P. P.G.    'ISBUFFERORSTRING'                   : 'String' 'Object' (text.cls)
P. P.G.    'ISCASEFOLD'                         : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISCCSTRIPPED'                       : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISCOMPATIBLEWITHASCII'              : 'String' 'StringRexxTextInterface' (text.cls)
P. PCG.    'ISCOMPATIBLEWITHBYTESTRING'         : 'String' 'Object' (text.cls)
P. P.G.    'ISCOMPATIBLEWITHBYTESTRING'         : 'String' 'Object' (text.cls)
P. P.G.    'ISCOMPATIBLEWITHBYTESTRING'         : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISIGNORABLESTRIPPED'                : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISLOWER'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISMARKSTRIPPED'                     : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISNASTRIPPED'                       : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISNFC'                              : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISNFD'                              : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISNFKC'                             : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISNFKD'                             : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'ISNIL'                              : 'String' 'Object' (object.cls)
P. PCG.    'ISNIL'                              : 'String' 'Object' (object.cls)
P. P.G.    'ISTEXTORBUFFERORSTRING'             : 'String' 'EncodedString' (text.cls)
P. P.G.    'ISTEXTORBUFFERORSTRING'             : 'String' 'Object' (text.cls)
P. PCG.    'ISTEXTORBUFFERORSTRING'             : 'String' 'Object' (text.cls)
P. P.G.    'ISUPPER'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'JOIN'                               : 'String' 'StringHelpers' (string.cls)
P. P.G.    'LASTPOS2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'LEFT2'                              : 'String' 'String' (rgf_util2_wrappers.rex)
P. PCG.    'LOWER'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'LOWER2'                             : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'MAKECOMPLEX'                        : 'String' 'ComplexString' (complex.cls)
P. P.G.    'MAKEREXXTEXT'                       : 'String' 'EncodedString' (text.cls)
P. P.G.    'MAKEREXXTEXTORSTRING'               : 'String' 'EncodedString' (text.cls)
P. P...    'MAP'                                : 'String' 'StringMapper' (functionals.cls)
P. P...    'MAPC'                               : 'String' 'StringMapper' (functionals.cls)
P. P...    'MAPW'                               : 'String' 'StringMapper' (functionals.cls)
P. P.G.    'MATCHER'                            : 'String' 'StringHelpers' (string.cls)
P. P.G.    'MAXIMUMCODEPOINT'                   : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'MAXIMUMUNICODECODEPOINT'            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'NEEDSOBJECT'                        : 'String' 'Doer' (doers.cls)
P. P...    'NEEDSOBJECT'                        : 'String' 'StringDoer' (doers.cls)
P. P.G.    'NFC'                                : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'NFD'                                : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'NFKC'                               : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'NFKD'                               : 'String' 'StringRexxTextInterface' (text.cls)
P. PCG.    'NL'                                 : 'String' 'String' (CoreClasses.orx)
P. PCG.    'NULL'                               : 'String' 'String' (CoreClasses.orx)
P. P.G.    'OVERLAY2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'PARSEWORDS2'                        : 'String' 'String' (rgf_util2_wrappers.rex)
P. P...    'PARTIAL'                            : 'String' 'Doer' (doers.cls)
P. PC..    'PIPE'                               : 'String' 'Object' (pipe_extension.cls)
P. P...    'PIPE'                               : 'String' 'Object' (pipe_extension.cls)
P. P...    'PIPEPROFILE'                        : 'String' 'Object' (pipe_extension.cls)
P. P.G.    'POS2'                               : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'POSIXCLASSCHARACTERS'               : 'String' 'StringHelpers' (string.cls)
P. P.G.    'PP2'                                : 'String' 'Object' (rgf_util2_wrappers.rex)
P. P.G.    'PPINDEX2'                           : 'String' 'Object' (rgf_util2_wrappers.rex)
P. P.G.    'PPSTRING'                           : 'String' 'Object' (object.cls)
P. P.G.    'PPSTRING'                           : 'String' 'StringPrettyPrinter' (string.cls)
P. PCG.    'PPSTRING'                           : 'String' 'Object' (object.cls)
P. PCG.    'PRINT'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. PCG.    'PUNCT'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'QUOTED'                             : 'String' 'StringHelpers' (string.cls)
P. P.G.    'RANK'                               : 'String' 'Object' (array.cls)
P. P...    'REDUCE'                             : 'String' 'TextOrBufferOrStringReducer' (functionals.cls)
P. P...    'REDUCEC'                            : 'String' 'TextOrBufferOrStringReducer' (functionals.cls)
P. P...    'REDUCEW'                            : 'String' 'TextOrBufferOrStringReducer' (functionals.cls)
P. P...    'REJECTC'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'REJECTCI'                           : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'REJECTW'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'REJECTWI'                           : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P.G.    'REQUESTBUFFERORSTRING'              : 'String' 'EncodedString' (text.cls)
P. P.G.    'REQUESTBUFFERORSTRING'              : 'String' 'Object' (text.cls)
P. PCG.    'REQUESTBUFFERORSTRING'              : 'String' 'Object' (text.cls)
P. PCG.    'REQUESTTEXTORBUFFERORSTRING'        : 'String' 'Object' (text.cls)
P. P.G.    'REQUESTTEXTORBUFFERORSTRING'        : 'String' 'EncodedString' (text.cls)
P. P.G.    'REQUESTTEXTORBUFFERORSTRING'        : 'String' 'Object' (text.cls)
P. P.G.    'RESHAPE'                            : 'String' 'Object' (array.cls)
P. P.G.    'RIGHT2'                             : 'String' 'String' (rgf_util2_wrappers.rex)
P. P...    'SELECTC'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'SELECTCI'                           : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'SELECTW'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'SELECTWI'                           : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P.G.    'SETENCODING'                        : 'String' 'EncodedString' (text.cls)
P. P.G.    'SETMETHOD1'                         : 'String' 'Object' (SETMETHOD1)
P. P.G.    'SETUSERDATA'                        : 'String' 'Object' (object.cls)
P. PCG.    'SETUSERDATA'                        : 'String' 'Object' (object.cls)
P. P.G.    'SHAPE'                              : 'String' 'Object' (array.cls)
P. P.G.    'SHAPETOSTRING'                      : 'String' 'Object' (array.cls)
P. P.G.    'SINGULARPLURAL'                     : 'String' 'StringHelpers' (string.cls)
P. P.G.    'SINGULARPLURALCOUNT'                : 'String' 'StringHelpers' (string.cls)
P. P.G.    'SOURCE'                             : 'String' 'Doer' (doers.cls)
P. P...    'SOURCE'                             : 'String' 'StringDoer' (doers.cls)
P. PCG.    'SPACE'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'SPLIT'                              : 'String' 'StringHelpers' (string.cls)
P. P.G.    'STARTSWITH'                         : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'SUBCHAR2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'SUBSTR2'                            : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'SUBWORD2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. PCG.    'TAB'                                : 'String' 'String' (CoreClasses.orx)
P. P...    'TAKEC'                              : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKECI'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEFIRSTC'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEFIRSTCI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEFIRSTW'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEFIRSTWI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKELASTC'                          : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKELASTCI'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKELASTW'                          : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKELASTWI'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEUNTILC'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEUNTILCI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEUNTILW'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEUNTILWI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEW'                              : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEWHILEC'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEWHILECI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEWHILEW'                         : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEWHILEWI'                        : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'TAKEWI'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P.G.    'TEXT'                               : 'String' 'EncodedString' (text.cls)
P. P.G.    'TEXT='                              : 'String' 'EncodedString' (text.cls)
P. P...    'TIMES'                              : 'String' 'RepeaterCollector' (functionals.cls)
P. P...    'TIMES.GENERATE'                     : 'String' 'RepeaterGenerator' (generator.cls)
P. P.G.    'TITLE'                              : 'String' 'StringRexxTextInterface' (text.cls)
P. P...    'TRAMPOLINE'                         : 'String' 'Doer' (doers.cls)
P. P.G.    'TRANSCODETO'                        : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'TRANSFORM'                          : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'TRANSFORMER'                        : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'U2C'                                : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UNESCAPE'                           : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UNICODE'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UNICODE16'                          : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UNICODE32'                          : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UNICODE8'                           : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UNICODECHARACTERS'                  : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UNICODEN'                           : 'String' 'StringRexxTextInterface' (text.cls)
P. P...    'UNKNOWN'                            : 'String' 'RepeaterCollector' (functionals.cls)
P. P.G.    'UNQUOTED'                           : 'String' 'StringHelpers' (string.cls)
P. P...    'UNTILC'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'UNTILCI'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'UNTILW'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'UNTILWI'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. PCG.    'UPPER'                              : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    'UPPER2'                             : 'String' 'String' (rgf_util2_wrappers.rex)
P. P...    'UPTO'                               : 'String' 'RepeaterCollector' (functionals.cls)
P. P.G.    'UTF16'                              : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UTF16BE'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UTF16LE'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UTF32'                              : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UTF32BE'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UTF32LE'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'UTF8'                               : 'String' 'StringRexxTextInterface' (text.cls)
P. P...    'WHILEC'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'WHILECI'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'WHILEW'                             : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P...    'WHILEWI'                            : 'String' 'TextOrBufferOrStringFilter' (functionals.cls)
P. P.G.    'WORD2'                              : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'WORDINDEX2'                         : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'WORDLENGTH2'                        : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'WORDPOS2'                           : 'String' 'String' (rgf_util2_wrappers.rex)
P. P.G.    'WTF16'                              : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'WTF16BE'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'WTF16LE'                            : 'String' 'StringRexxTextInterface' (text.cls)
P. P.G.    'WTF8'                               : 'String' 'StringRexxTextInterface' (text.cls)
P. PCG.    'XDIGIT'                             : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P.G.    '[]'                                 : 'String' 'StringCompatibilityWithOORexx5' (string.cls)
P. P...    '~()'                                : 'String' 'Doer' (doers.cls)
<span style="font-weight:bold;color:green;">[Info] [1] Class 'String' has 442 methods
</span><span style="font-weight:bold;color:green;">[Info] 271 lines displayed
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Blocks
</span><span style="font-weight:bold;color:blue;">A RexxBlock is a piece of source code surrounded by curly brackets.
</span><span style="font-weight:bold;color:blue;">{say &quot;Hello&quot;}
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">Optional tags after &quot;{&quot;:
</span><span style="font-weight:bold;color:blue;">::routine       (abbreviation ::r, this is the default tag)
</span><span style="font-weight:bold;color:blue;">::coactivity    (abbreviation ::co)
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">Big picture :
</span><span style="font-weight:bold;color:blue;">A RexxSourceLiteral is an internal rexx object, created by the parser, not accessible from ooRexx scripts.
</span><span style="font-weight:bold;color:blue;">A RexxSourceLiteral holds the following properties, shared among all the RexxBlock instances created from it :
</span><span style="font-weight:bold;color:blue;">- source: the text between the curly brackets {...} as an array of lines, including the tag ::xxx if any.
</span><span style="font-weight:bold;color:blue;">- package: the package which contain the source literal.
</span><span style="font-weight:bold;color:blue;">- kind: kind of source, derived from the source's tag.
</span><span style="font-weight:bold;color:blue;">- rawExecutable: routine or method created at load-time (immediate parsing).
</span><span style="font-weight:bold;color:blue;">- executable: cached executable.
</span><span style="font-weight:bold;color:blue;">A RexxBlock is created each time the RexxSourceLiteral is evaluated, and is accessible from ooRexx scripts.
</span><span style="font-weight:bold;color:blue;">When a RexxBlock is a closure's source, it will hold a snapshot of the context's variables.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">?cm RexxBlock</span>

<span style="font-weight:bold;color:green;">[Info] [1] Class 'RexxBlock' P. (REXX)
</span>P. P.G.    'COPY'          : 'RexxBlock' (REXX)
P. P.G.    'KIND'          : 'RexxBlock' (REXX)
P. PCG.    'NEW'           : 'RexxBlock' (REXX)
P. P.G.    'PACKAGE'       : 'RexxBlock' (REXX)
P. P.G.    'RAWEXECUTABLE' : 'RexxBlock' (REXX)
P. P.G.    'SOURCE'        : 'RexxBlock' (REXX)
P. P.G.    'VARIABLES'     : 'RexxBlock' (REXX)
<span style="font-weight:bold;color:green;">[Info] [1] Class 'RexxBlock' has 7 methods
</span><span style="font-weight:bold;color:green;">[Info] 10 lines displayed
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block = {say &quot;Hello&quot;}</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block~rawExecutable=</span>
(a Routine)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block~executable=               </span><span style="font-weight:bold;color:blue;">-- not yet executed, the cache is empty</span>
(The NIL object)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block~do</span>
Hello
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block~executable=               </span><span style="font-weight:bold;color:blue;">-- now the cache has a value: a Routine</span>
(a Routine)

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Tilde-call message &quot;~()&quot;.
</span><span style="font-weight:bold;color:blue;">The message name can be omitted, but the list of parameters is mandatory (can be empty).
</span><span style="font-weight:bold;color:blue;">    target~()
</span><span style="font-weight:bold;color:blue;">    target~(arg1, arg2, ...)
</span><span style="font-weight:bold;color:blue;">    target~~()
</span><span style="font-weight:bold;color:blue;">    target~~(arg1, arg2, ...)
</span><span style="font-weight:bold;color:blue;">When the expression is evaluated, the target receives the message &quot;~()&quot; which
</span><span style="font-weight:bold;color:blue;">forwards the message &quot;do&quot;.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">{say &quot;hello&quot;}~()</span>
hello
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">?m do                           </span><span style="font-weight:bold;color:blue;">-- classes supporting the message &quot;do&quot;</span>
P. P.G.    'CLASSES' : 'Package' (REXX)
PM P.G.    'DO'      : 'Doer' (doers.cls)
PM P...    'DO'      : 'CoactivityDoer' (doers.cls)
PM P...    'DO'      : 'MethodDoer' (doers.cls)
PM P...    'DO'      : 'RexxBlockDoer' (doers.cls)
PM P...    'DO'      : 'RoutineDoer' (doers.cls)
PM P...    'DO'      : 'StringDoer' (doers.cls)
PM P...    'DO'      : 'TextDoer' (doers.cls)
.. P.G.    'MESSAGE' : 'MESSAGEPROFILEDATA' (profiling.cls)
<span style="font-weight:bold;color:green;">[Info] 9 lines displayed
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Trailing block argument (similar to Groovy &amp; Swift syntax for closures) :
</span><span style="font-weight:bold;color:blue;">    f{...} is equivalent to f({...})
</span><span style="font-weight:bold;color:blue;">    f(a1,a2,...){...} is equivalent to f(a1,a2,...,{...})
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">10~times{2 * arg(1)}=</span>
[ 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Named arguments
</span><span style="font-weight:bold;color:blue;">They have been added because they allow to get rid of the transformation of the
</span><span style="font-weight:bold;color:blue;">block's sources at run-time (to declare positional arguments like item, index).
</span><span style="font-weight:bold;color:blue;">More precisely, this instruction:
</span><span style="font-weight:bold;color:blue;">    use auto named args
</span><span style="font-weight:bold;color:blue;">lets the caller inject named variables in the scope of the callee.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">{use auto named arg; say n1 n2 n3; .context~namedArgs}~(n1:1, n2:2, n3:3)=</span>
1 2 3
a Directory (3 items)
'N1' :  1
'N2' :  2
'N3' :  3

<span style="font-weight:bold;color:blue;">-- An auto named argument never overwrites a variable already assigned
</span><span style="font-weight:bold;color:blue;">-- Here, n1 is not overwritten with 1
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">{n1=10; use auto named arg; say n1 n2 n3; .context~namedArgs}~(n1:1, n2:2, n3:3)=</span>
10 2 3
a Directory (3 items)
'N1' :  1
'N2' :  2
'N3' :  3

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">At parse-time, the source is transformed to accept auto named arguments, and to
</span><span style="font-weight:bold;color:blue;">return implicitely the result of the last evaluated expression.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block = {say &quot;Hello&quot;}</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block~source=</span>
['say &quot;Hello&quot;']
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">block~rawExecutable~source==</span>
an Array (shape [2], 2 items)
 1 : 'use auto named arg ; options &quot;NOCOMMANDS&quot; ; say &quot;Hello&quot;'
 2 : 'if var(&quot;result&quot;) then return result'

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">By convention, the higher-order functions are passing the named parameters
</span><span style="font-weight:bold;color:blue;">&quot;item&quot; and &quot;index&quot;. Their values are also passed as positional arguments.
</span><span style="font-weight:bold;color:blue;">The callee has the choice: using the auto named arguments, or using the positional
</span><span style="font-weight:bold;color:blue;">arguments. The callee has a total control over which arguments he accepts.
</span><span style="font-weight:bold;color:blue;">If its constraints on positional and/or named arguments are incompatible with
</span><span style="font-weight:bold;color:blue;">the expectations of the higher-order function then an error will be raised.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; 
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">10~times{use strict arg v; 2 * v}=  </span><span style="font-weight:bold;color:blue;">-- Not compatible, an error is raised</span>
<span style="font-weight:bold;color:red;">Too many positional arguments in invocation of &lt;anonymous&gt;; maximum expected is 1.
</span><span style="font-weight:bold;color:red;">Error code= 40.4
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">10~times{use arg v; 2 * v}=         </span><span style="font-weight:bold;color:blue;">-- Compatible</span>
[ 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">10~times{2 * item}=                 </span><span style="font-weight:bold;color:blue;">-- No need to declare &quot;item&quot;</span>
[ 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The arity is -1 (unknown) for all the doers, except for the blocks for which
</span><span style="font-weight:bold;color:blue;">the arity is 9999 (unlimited).
</span><span style="font-weight:bold;color:blue;">The arity is used by the higher-order functions, to decide which parameters
</span><span style="font-weight:bold;color:blue;">can be passed. For the operators, only 2 positional parameters must be passed.
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">For example, the implementation of ~reduce:
</span><span style="font-weight:bold;color:blue;">do while self~available
</span><span style="font-weight:bold;color:blue;">    if arity &gt;=3 then doer~do(      accu,       self~item,        self~index,-
</span><span style="font-weight:bold;color:blue;">                              accu: accu, item: self~item, index: self~index)
</span><span style="font-weight:bold;color:blue;">                 else doer~do(      accu,       self~item,-
</span><span style="font-weight:bold;color:blue;">                              accu: accu, item: self~item)
</span><span style="font-weight:bold;color:blue;">    if var(&quot;result&quot;) then accu = result
</span><span style="font-weight:bold;color:blue;">    self~next
</span><span style="font-weight:bold;color:blue;">end
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(10,20,30)~reduce(&quot;+&quot;)=                                 </span><span style="font-weight:bold;color:blue;">-- case arity &lt; 3</span>
 60
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(10,20,30)~reduce(initial:0){accu + item ** index}=     </span><span style="font-weight:bold;color:blue;">-- case arity &gt;= 3</span>
 27410

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Closure
</span><span style="font-weight:bold;color:blue;">A closure is an object, created from a block whose source first word after the
</span><span style="font-weight:bold;color:blue;">optional tag is &quot;expose&quot;.
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">A closure remembers the values of the variables defined in the outer environment
</span><span style="font-weight:bold;color:blue;">of the block. The behaviour of the closure is a method generated from the block,
</span><span style="font-weight:bold;color:blue;">which is attached to the closure under the name &quot;do&quot;. The values of the captured
</span><span style="font-weight:bold;color:blue;">variables are accessible from this method &quot;do&quot; using expose. Updating a variable
</span><span style="font-weight:bold;color:blue;">from the closure will have no impact on the original context (hence the name
</span><span style="font-weight:bold;color:blue;">&quot;closure by value&quot;).
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">newCounter={use arg n=0; {expose n; use arg i=0; n+=i; n}}</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">counter1 = newCounter~()        </span><span style="font-weight:bold;color:blue;">-- start at 0 (default)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">counter2 = newCounter~(20)      </span><span style="font-weight:bold;color:blue;">-- start at 20</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">counter1~() counter2~()=        </span><span style="font-weight:bold;color:blue;">-- 0 20</span>
'0 20'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">do 5; counter1~(+1); counter2~(-2); end</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">counter1~() counter2~()=        </span><span style="font-weight:bold;color:blue;">-- 5 10</span>
'5 10'

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Coactivity
</span><span style="font-weight:bold;color:blue;">Emulation of coroutine, named &quot;coactivity&quot; to follow the ooRexx vocabulary.
</span><span style="font-weight:bold;color:blue;">This is not a &quot;real&quot; coroutine implementation, because it's based on ooRexx
</span><span style="font-weight:bold;color:blue;">threads and synchronization. But at least you have all the functionalities of a
</span><span style="font-weight:bold;color:blue;">stackful asymmetric coroutine (resume + yield).
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">A stackful coroutine is a coroutine able to suspend its execution from within
</span><span style="font-weight:bold;color:blue;">nested calls. The variable .threadLocal is used to retrieve the coactivity
</span><span style="font-weight:bold;color:blue;">instance from any invocation and send it the message yield (this instance is at
</span><span style="font-weight:bold;color:blue;">the origin of the invocations stack, but is not passed as a parameter to the
</span><span style="font-weight:bold;color:blue;">invocations).
</span><span style="font-weight:bold;color:blue;">myCoactivity~start  &lt;--------------+
</span><span style="font-weight:bold;color:blue;">    invocation                     |
</span><span style="font-weight:bold;color:blue;">        invocation                 |
</span><span style="font-weight:bold;color:blue;">            ...                    |
</span><span style="font-weight:bold;color:blue;">                invocation: .Coactivity~yield()
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">A coactivity remembers its internal state. It can be called several times, the
</span><span style="font-weight:bold;color:blue;">execution is resumed after the last executed &quot;.yield[]&quot; or &quot;call yield&quot;.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">generator = {::coactivity i=0; do forever; call yield i; i+=1; end}</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">generator~()=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">generator~makeArray(10)=</span>
[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">generator~()=</span>
 11

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Concurrency trace
</span><span style="font-weight:bold;color:blue;">The interpreter has been modified to add thread id, activation id, variable's dictionnary id,
</span><span style="font-weight:bold;color:blue;">lock counter and lock flag in the lines printed by trace.
</span><span style="font-weight:bold;color:blue;">Concurrency trace is displayed only when env variable RXTRACE_CONCURRENCY=ON
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">Informations that are displayed.
</span><span style="font-weight:bold;color:blue;">RexxActivity::traceOutput(RexxActivation *activation, ...
</span><span style="font-weight:bold;color:blue;">T1       SysCurrentThreadId(),
</span><span style="font-weight:bold;color:blue;">A2       (unsigned int)activation,
</span><span style="font-weight:bold;color:blue;">V1       (activation) ? activation-&gt;getVariableDictionary() : NULL      // settings.object_variables
</span><span style="font-weight:bold;color:blue;">1        (activation) ? activation-&gt;getReserveCount() : 0               // settings.object_variables-&gt;getReserveCount()
</span><span style="font-weight:bold;color:blue;">*        (activation &amp;&amp; activation-&gt;isObjectScopeLocked()) ? '*' : ' ') // object_scope == SCOPE_RESERVED
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:blue;">-- Raw output, not easy to read
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">system RXTRACE_CONCURRENCY=ON rexx concurrency_trace.rex</span>
00000000e519a080 000000004a817c40 0000000000000000 00000       1 *-* .demo~new~exec(1)
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;E&gt;   .DEMO =&gt; &quot;The DEMO class&quot;
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;M&gt;   &quot;NEW&quot; =&gt; &quot;a DEMO&quot;
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;L&gt;   &quot;1&quot;
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;A&gt;   &quot;1&quot;
00000000e519a080 000000004a820ec0 000000004a821130 00000         &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
00000000e519a080 000000004a820ec0 000000004a821130 00001*      8 *-* use arg id
00000000e519a080 000000004a820ec0 000000004a821130 00001*        &gt;&gt;&gt;   &quot;1&quot;
00000000e519a080 000000004a820ec0 000000004a821130 00001*        &gt;=&gt;   ID &lt;= &quot;1&quot;
00000000e519a080 000000004a820ec0 000000004a821130 00001*      9 *-* reply
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
00000000e519a080 000000004a817c40 0000000000000000 00000       2 *-* .demo~new~exec(2)
000000006ff13000 000000004a820ec0 000000004a821130 00001*     10 *-* do 2
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;E&gt;   .DEMO =&gt; &quot;The DEMO class&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;L&gt;     &quot;2&quot;
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;M&gt;   &quot;NEW&quot; =&gt; &quot;a DEMO&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;&gt;&gt;     &quot;2&quot;
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;L&gt;   &quot;2&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*     11 *-*   say &quot;TASK&quot; id
00000000e519a080 000000004a817c40 0000000000000000 00000         &gt;A&gt;   &quot;2&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;L&gt;     &quot;TASK&quot;
00000000e519a080 000000004a82e7f0 000000004a82ea60 00000         &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;V&gt;     ID =&gt; &quot;1&quot;
00000000e519a080 000000004a82e7f0 000000004a82ea60 00001*      8 *-* use arg id
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 1&quot;
00000000e519a080 000000004a82e7f0 000000004a82ea60 00001*        &gt;&gt;&gt;   &quot;2&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;&gt;&gt;     &quot;TASK 1&quot;
TASK 1
00000000e519a080 000000004a82e7f0 000000004a82ea60 00001*        &gt;=&gt;   ID &lt;= &quot;2&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*     12 *-*   call syssleep 1
00000000e519a080 000000004a82e7f0 000000004a82ea60 00001*      9 *-* reply
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;L&gt;     &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;A&gt;     &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     10 *-* do 2
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;L&gt;     &quot;2&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;&gt;&gt;     &quot;2&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     11 *-*   say &quot;TASK&quot; id
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;L&gt;     &quot;TASK&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;V&gt;     ID =&gt; &quot;2&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 2&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;&gt;&gt;     &quot;TASK 2&quot;
TASK 2
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     12 *-*   call syssleep 1
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;L&gt;     &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;A&gt;     &quot;1&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;&gt;&gt;     &quot;0&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;&gt;&gt;     &quot;0&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*     13 *-* end
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     13 *-* end
000000006ff13000 000000004a820ec0 000000004a821130 00001*     10 *-* do 2
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     10 *-* do 2
000000006ff13000 000000004a820ec0 000000004a821130 00001*     11 *-*   say &quot;TASK&quot; id
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     11 *-*   say &quot;TASK&quot; id
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;L&gt;     &quot;TASK&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;L&gt;     &quot;TASK&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;V&gt;     ID =&gt; &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;V&gt;     ID =&gt; &quot;2&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 2&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;&gt;&gt;     &quot;TASK 1&quot;
TASK 1
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;&gt;&gt;     &quot;TASK 2&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*     12 *-*   call syssleep 1
TASK 2
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;L&gt;     &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     12 *-*   call syssleep 1
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;A&gt;     &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;L&gt;     &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;A&gt;     &quot;1&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*        &gt;&gt;&gt;     &quot;0&quot;
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     13 *-* end
000000007011f000 000000004a82e7f0 000000004a82ea60 00001*     10 *-* do 2
000000006ff13000 000000004a820ec0 000000004a821130 00001*        &gt;&gt;&gt;     &quot;0&quot;
000000006ff13000 000000004a820ec0 000000004a821130 00001*     13 *-* end
000000006ff13000 000000004a820ec0 000000004a821130 00001*     10 *-* do 2
ooRexx[sh]&gt; <span style="font-weight:bold;color:blue;">-- Human-readable output, generated by piping the output through tracer.rex
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">system RXTRACE_CONCURRENCY=ON rexx concurrency_trace.rex 2&gt;&amp;1 | rexx trace/tracer.rex</span>
T1   A1                     1 *-* .demo~new~exec(1)
T1   A1                       &gt;E&gt;   .DEMO =&gt; &quot;The DEMO class&quot;
T1   A1                       &gt;M&gt;   &quot;NEW&quot; =&gt; &quot;a DEMO&quot;
T1   A1                       &gt;L&gt;   &quot;1&quot;
T1   A1                       &gt;A&gt;   &quot;1&quot;
T1   A2     V1                &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
T1   A2     V1      1*      8 *-* use arg id
T1   A2     V1      1*        &gt;&gt;&gt;   &quot;1&quot;
T1   A2     V1      1*        &gt;=&gt;   ID &lt;= &quot;1&quot;
T1   A2     V1      1*      9 *-* reply
T1   A1                     2 *-* .demo~new~exec(2)
T2   A2     V1      1*        &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
T1   A1                       &gt;E&gt;   .DEMO =&gt; &quot;The DEMO class&quot;
T2   A2     V1      1*     10 *-* do 2
T1   A1                       &gt;M&gt;   &quot;NEW&quot; =&gt; &quot;a DEMO&quot;
T2   A2     V1      1*        &gt;L&gt;     &quot;2&quot;
T1   A1                       &gt;L&gt;   &quot;2&quot;
T2   A2     V1      1*        &gt;&gt;&gt;     &quot;2&quot;
T1   A1                       &gt;A&gt;   &quot;2&quot;
T2   A2     V1      1*     11 *-*   say &quot;TASK&quot; id
T1   A3     V2                &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
T2   A2     V1      1*        &gt;L&gt;     &quot;TASK&quot;
T1   A3     V2      1*      8 *-* use arg id
T2   A2     V1      1*        &gt;V&gt;     ID =&gt; &quot;1&quot;
T1   A3     V2      1*        &gt;&gt;&gt;   &quot;2&quot;
T2   A2     V1      1*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 1&quot;
T1   A3     V2      1*        &gt;=&gt;   ID &lt;= &quot;2&quot;
T2   A2     V1      1*        &gt;&gt;&gt;     &quot;TASK 1&quot;
TASK 1
T1   A3     V2      1*      9 *-* reply
T2   A2     V1      1*     12 *-*   call syssleep 1
T3   A3     V2      1*        &gt;I&gt; Method &quot;EXEC&quot; with scope &quot;DEMO&quot; in package &quot;/Users/Shared/local/rexx/oorexx/executor/sandbox/jlf/demos/concurrency_trace.rex&quot;.
T2   A2     V1      1*        &gt;L&gt;     &quot;1&quot;
T3   A3     V2      1*     10 *-* do 2
T2   A2     V1      1*        &gt;A&gt;     &quot;1&quot;
T3   A3     V2      1*        &gt;L&gt;     &quot;2&quot;
T3   A3     V2      1*        &gt;&gt;&gt;     &quot;2&quot;
T3   A3     V2      1*     11 *-*   say &quot;TASK&quot; id
T3   A3     V2      1*        &gt;L&gt;     &quot;TASK&quot;
T3   A3     V2      1*        &gt;V&gt;     ID =&gt; &quot;2&quot;
T3   A3     V2      1*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 2&quot;
T3   A3     V2      1*        &gt;&gt;&gt;     &quot;TASK 2&quot;
TASK 2
T3   A3     V2      1*     12 *-*   call syssleep 1
T3   A3     V2      1*        &gt;L&gt;     &quot;1&quot;
T3   A3     V2      1*        &gt;A&gt;     &quot;1&quot;
T2   A2     V1      1*        &gt;&gt;&gt;     &quot;0&quot;
T3   A3     V2      1*        &gt;&gt;&gt;     &quot;0&quot;
T2   A2     V1      1*     13 *-* end
T3   A3     V2      1*     13 *-* end
T2   A2     V1      1*     10 *-* do 2
T3   A3     V2      1*     10 *-* do 2
T2   A2     V1      1*     11 *-*   say &quot;TASK&quot; id
T3   A3     V2      1*     11 *-*   say &quot;TASK&quot; id
T2   A2     V1      1*        &gt;L&gt;     &quot;TASK&quot;
T3   A3     V2      1*        &gt;L&gt;     &quot;TASK&quot;
T2   A2     V1      1*        &gt;V&gt;     ID =&gt; &quot;1&quot;
T3   A3     V2      1*        &gt;V&gt;     ID =&gt; &quot;2&quot;
T2   A2     V1      1*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 1&quot;
T3   A3     V2      1*        &gt;O&gt;     &quot; &quot; =&gt; &quot;TASK 2&quot;
T2   A2     V1      1*        &gt;&gt;&gt;     &quot;TASK 1&quot;
TASK 1
T3   A3     V2      1*        &gt;&gt;&gt;     &quot;TASK 2&quot;
T2   A2     V1      1*     12 *-*   call syssleep 1
TASK 2
T2   A2     V1      1*        &gt;L&gt;     &quot;1&quot;
T3   A3     V2      1*     12 *-*   call syssleep 1
T2   A2     V1      1*        &gt;A&gt;     &quot;1&quot;
T3   A3     V2      1*        &gt;L&gt;     &quot;1&quot;
T3   A3     V2      1*        &gt;A&gt;     &quot;1&quot;
T2   A2     V1      1*        &gt;&gt;&gt;     &quot;0&quot;
T3   A3     V2      1*        &gt;&gt;&gt;     &quot;0&quot;
T2   A2     V1      1*     13 *-* end
T3   A3     V2      1*     13 *-* end
T2   A2     V1      1*     10 *-* do 2
T3   A3     V2      1*     10 *-* do 2

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Symmetric implementation of operator
</span><span style="font-weight:bold;color:blue;">Official ooRexx doesn't allow to define symmetric overriding of operators.
</span><span style="font-weight:bold;color:blue;">You can define a user operator on .array which supports .array~of(1,2) + 10.
</span><span style="font-weight:bold;color:blue;">But you can't define a user operator which supports 10 + .array~of(1,2).
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">Executor has been extended to automatically try b~&quot;op:right&quot;(a) when a~&quot;op&quot;(b)
</span><span style="font-weight:bold;color:blue;">is about to raise an exception.
</span><span style="font-weight:bold;color:blue;">If an alternate implementation exists then call it otherwise raise the exception.
</span><span style="font-weight:bold;color:blue;">The two methods Object::messageSend have been modified to let pass an additional
</span><span style="font-weight:bold;color:blue;">parameter 'processUnknown' which is true by default (legacy behavior). When this
</span><span style="font-weight:bold;color:blue;">parameter is false, and no method is found for the message, then
</span><span style="font-weight:bold;color:blue;">Object::messageSend returns false to indicate that no implementation exists.
</span><span style="font-weight:bold;color:blue;">There is no processing of the unknown message.
</span><span style="font-weight:bold;color:blue;">This is an efficient way to test if an alternate implementation exists and call it.
</span><span style="font-weight:bold;color:blue;">When the alternate implementation returns nothing, then don't complain about that.
</span><span style="font-weight:bold;color:blue;">Behave as if the alternate implementation did not exist, and raise the exception
</span><span style="font-weight:bold;color:blue;">related to the left argument.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">1 + (10, 20)=                           </span><span style="font-weight:bold;color:blue;">-- array programming</span>
[ 11, 21]
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~utf16 &quot;John&quot;~text~utf16=   </span><span style="font-weight:bold;color:blue;">-- encoded strings</span>
T'[00]h[00]e[00]l[00]l[00]o[00] [00]J[00]o[00]h[00]n'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">2*(3-2i)=                               </span><span style="font-weight:bold;color:blue;">-- complex numbers</span>
(6-4i)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">a = (1, 2); a~append(a); a=             </span><span style="font-weight:bold;color:blue;">-- self-referencing array, its depth is infinite</span>
a1=[ 1, 2,*a1]
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">1 + a~depth=                            </span><span style="font-weight:bold;color:blue;">-- arithmetic with infinity</span>
(The positive infinity)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">5 * (a~depth - a~depth)=                </span><span style="font-weight:bold;color:blue;">-- arithmetic with indeterminate</span>
(The indeterminate value)

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Global variable
</span><span style="font-weight:bold;color:blue;">When a variable has no value, the interpreter sends the message &quot;NOVALUE&quot; to
</span><span style="font-weight:bold;color:blue;">the object registered in .LOCAL under the name &quot;NOVALUE&quot; (un-documented feature,
</span><span style="font-weight:bold;color:blue;">see RexxActivation::novalueHandler).
</span><span style="font-weight:bold;color:blue;">The class GlobalVariables is used to manage global variables like i, infinity, indeterminate.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">.local~novalue=</span>
(The GlobalVariables class)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">?cm globalvariables</span>

<span style="font-weight:bold;color:green;">[Info] [1] Class 'GlobalVariables' P. (novalue.cls)
</span>P. PCG.    'DECLARE' : 'GlobalVariables' (novalue.cls)
P. PCG.    'INIT'    : 'GlobalVariables' (novalue.cls)
P. PCG.    'NOVALUE' : 'GlobalVariables' (novalue.cls)
P. PCG.    'VALUES'  : 'GlobalVariables' (novalue.cls)
<span style="font-weight:bold;color:green;">[Info] [1] Class 'GlobalVariables' has 4 methods
</span><span style="font-weight:bold;color:green;">[Info] 7 lines displayed
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">.globalvariables~values=</span>
a Directory (4 items)
'COMPLEXINFINITY' : (The complex infinity)
'I'               : (0+1i)
'INDETERMINATE'   : (The indeterminate value)
'INFINITY'        : (The positive infinity)

<span style="font-weight:bold;color:blue;">-- -----------------------------------------------------------
</span><span style="font-weight:bold;color:blue;">--
</span><span style="font-weight:bold;color:blue;">-- Some examples of functionalities which depend on extensions
</span><span style="font-weight:bold;color:blue;">--
</span><span style="font-weight:bold;color:blue;">-- -----------------------------------------------------------
</span>

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Range iterator
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">1~9=</span>
[ 1, 2, 3, 4, 5, 6, 7, 8, 9]

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The collection is displayed one item per line when the line ends with ==
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">1~9==</span>
an Array (shape [9], 9 items)
 1 :  1
 2 :  2
 3 :  3
 4 :  4
 5 :  5
 6 :  6
 7 :  7
 8 :  8
 9 :  9

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The precision of the range iterator is automatically adjusted
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">1~9(by:1e-100, for:10)==</span>
an Array (shape [10], 10 items)
 1  :  1
 2  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
 3  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002
 4  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003
 5  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004
 6  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005
 7  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006
 8  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007
 9  :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008
 10 :  1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">To get the last 10 values of the range, pass for:-10
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">1~9(by:1e-100, for:-10)==</span>
an Array (shape [10], 10 items)
 1  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991
 2  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999992
 3  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999993
 4  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994
 5  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995
 6  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999996
 7  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999997
 8  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999998
 9  :  8.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
 10 :  9.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Y combinator:
</span><span style="font-weight:bold;color:blue;">The Y combinator allows recursion to be defined as a set of rewrite rules.
</span><span style="font-weight:bold;color:blue;">It takes a single argument, which is a function that isn't recursive (here, no argument, use self which is a Doer).
</span><span style="font-weight:bold;color:blue;">It returns a version of the function which is recursive.
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Inspired by http://mvanier.livejournal.com/2897.html
</span><span style="font-weight:bold;color:blue;">Y = λf.(λx.f (λv.((x x) v))) (λx.f (λv.((x x) v)))
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">(define Y
</span><span style="font-weight:bold;color:blue;">  (lambda (f)
</span><span style="font-weight:bold;color:blue;">    ( (lambda (a) (a a))
</span><span style="font-weight:bold;color:blue;">      (lambda (x) (f (lambda (v) ((x x) v)))))))
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Implementation of the Y combinator with memoization:
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">?ms YM</span>
PM P...    'YM' : 'RoutineDoer' (doers.cls)
 &gt; 0001 use named arg verbose=.false
 &gt; 0002     if verbose then trace i
 &gt; 0003 
 &gt; 0004     -- lambda_f
 &gt; 0005     f = self -- to be closer to the notation (would be passed by parameter to lambda_f when implemented by a function instead of a method)
 &gt; 0006     YnamedArgs = .context~namedArgs
 &gt; 0007     table = .Table~new
 &gt; 0008 
 &gt; 0009     lambda_x = {
 &gt; 0010         expose f verbose YnamedArgs table
 &gt; 0011         if verbose then trace i
 &gt; 0012         use strict arg x
 &gt; 0013         lambda_v = {
 &gt; 0014                      expose x verbose table
 &gt; 0015                      if verbose then trace i
 &gt; 0016                      --use strict arg v
 &gt; 0017                      v = arg(1, &quot;a&quot;)
 &gt; 0018                      v_index = v~tostring
 &gt; 0019                      r = table[v_index]
 &gt; 0020                      if .nil &lt;&gt; r then return r
 &gt; 0021                      r = x~(x)~doWith(v, namedArguments: .context~namedArgs)
 &gt; 0022                      table[v_index] = r
 &gt; 0023                      return r
 &gt; 0024                 }
 &gt; 0025         return f ~ doWith(.array~of(lambda_v), namedArguments: YnamedArgs)
 &gt; 0026     }
 &gt; 0027     return lambda_x ~ (lambda_x)
<span style="font-weight:bold;color:green;">[Info] 28 lines displayed
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Application to Fibonacci:
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">almost_fib = { use arg fib; {expose fib ; use arg n; if n==0 then return 0; if n==1 then return 1; if n&lt;0 then return fib~(n+2) - fib~(n+1); return fib~(n-2) + fib~(n-1)}}</span>

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The not-memoizing version needs around 15 sec.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_Y = almost_fib~Y</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_Y~(23)=</span>
 28657
<span style="font-weight:bold;color:green;">Duration: 3.540490
</span><span style="font-weight:bold;color:green;">#Coactivities: 1
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The memoizing version calculates almost instantly.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_YM = almost_fib~YM</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_YM~(23)=</span>
 28657
<span style="font-weight:bold;color:green;">Duration: 0.012352
</span><span style="font-weight:bold;color:green;">#Coactivities: 1
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">fib_Y and fib_YM are closures.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_YM~executable=</span>
(a Closure)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_YM~executable~variables=</span>
a Directory (1 items)
'FIB' : (a RexxBlock)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_YM~executable~variables[&quot;FIB&quot;]~executable=</span>
(a Closure)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_YM~executable~variables[&quot;FIB&quot;]~executable~variables=</span>
a Directory (7 items)
'F'          : (a Routine)
'SELF'       : (a Closure)
'SUPER'      : (The Doer class)
'TABLE'      : a Table
'VERBOSE'    :  0
'X'          : (a RexxBlock)
'YNAMEDARGS' : Directory(an Array no shape, 0 items)

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">TABLE is the table of values memoized by fib_YM for the calculation of fib_YM~(23).
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">fib_YM~executable~variables[&quot;FIB&quot;]~executable~variables[&quot;TABLE&quot;]=</span>
a Table (23 items)
 0  :  0
 1  :  1
 2  :  1
 3  :  2
 4  :  3
 5  :  5
 6  :  8
 7  :  13
 8  :  21
 9  :  34
 10 :  55
 11 :  89
 12 :  144
 13 :  233
 14 :  377
 15 :  610
 16 :  987
 17 :  1597
 18 :  2584
 19 :  4181
 20 :  6765
 21 :  10946
 22 :  17711

<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Both fib_Y and fib_YM are subject to stack overflow.
</span><span style="font-weight:bold;color:blue;">But fib_YM can be used by steps, to calculate very big fibonacci numbers, thanks to the memoization.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">numeric digits propagate 100</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">do i=1 to 500; r = fib_YM~(i*50); if i//50=0 then say &quot;fib_YM~(&quot;i*50&quot;)=&quot;r; end</span>
fib_YM~(2500)=1.317090516751949629522763087125316412066606964992507141887746936727530870405038425764503130123186429E+522
fib_YM~(5000)=3.878968454388325633701916308325905312082127714646245106160597214895550139044037097010822916462210799E+1044
fib_YM~(7500)=1.142396523152058704722048892865690419848718663331756079795903059573826364358830526396432108051699207E+1567
fib_YM~(10000)=3.364476487643178326662161200510754331030214846068006390656476997468008144216666236815559551363373664E+2089
fib_YM~(12500)=9.908732919346489283972390155590053108590838370898511971634619406801520847007023935403361324320167010E+2611
fib_YM~(15000)=2.918224824204913830236407223698513202230962655711828774617138735156624458079183128895718558218554766E+3134
fib_YM~(17500)=8.594475392487880685715609318313958956965186135981014406583281854302591776880967478349722433509870025E+3656
fib_YM~(20000)=2.531162323732361242240155003520607291766356485802485278951929841991312781760541315230153423463759229E+4179
fib_YM~(22500)=7.454536101973301545514060322899628474921968473702388044321015228379740189148914655473430519859925903E+4701
fib_YM~(25000)=2.195438355517303012780791914841720922849015222302155773145178112730662303998294388326731046697794993E+5224
<span style="font-weight:bold;color:green;">Duration: 2.241227
</span><span style="font-weight:bold;color:green;">#Coactivities: 1
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">End of demonstration.
</span><span style="font-weight:bold;color:blue;">*/
</span></pre>
</body>
</html>
