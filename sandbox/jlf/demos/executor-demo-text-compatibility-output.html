<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- This file was created with the aha Ansi HTML Adapter. https://github.com/theZiz/aha -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8"/>
<title>executor-demo-text-compatibility-output.html</title>
</head>
<body>
<pre>
<span style="font-weight:bold;color:green;">loadPackage OK for extension/stringChunk.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for utilities/indentedStream.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for extension/extensions.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for rxunixsys
</span><span style="font-weight:bold;color:green;">loadPackage OK for ncurses.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for csvStream.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for hostemu
</span><span style="font-weight:bold;color:green;">loadPackage OK for json.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for mime.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rxftp.cls
</span><span style="font-weight:bold;color:green;">loadLibrary OK for rxmath
</span><span style="font-weight:bold;color:green;">loadPackage OK for rxregexp.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for regex/regex.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for smtp.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for socket.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for streamsocket.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for pipeline/pipe.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rgf_util2/rgf_util2.rex
</span><span style="font-weight:bold;color:green;">loadPackage OK for BSF.CLS
</span><span style="font-weight:bold;color:green;">loadPackage OK for oorexxshell_queries.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for pipeline/pipe_extension.cls
</span><span style="font-weight:bold;color:green;">loadPackage OK for rgf_util2/rgf_util2_wrappers.rex
</span><span style="font-weight:bold;color:green;">
</span><span style="font-weight:bold;color:green;">REXX-ooRexx_4.3.0(MT)_64-bit 6.04 16 Nov 2023
</span><span style="font-weight:bold;color:green;">Input queue name: S13f6fQ600000f48340
</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">call loadUnicodeCharacterNames</span>
<span style="font-weight:bold;color:green;">Load the Unicode character names 15.1.0 
</span>............................................<span style="font-weight:bold;color:green;">
</span><span style="font-weight:bold;color:green;">Total loaded character names: 149813
</span><span style="font-weight:bold;color:green;">Total character name aliases: 473
</span><span style="font-weight:bold;color:blue;">Unicode character intervals not expanded, execute: call expandUnicodeCharacterIntervals
</span>

<span style="font-weight:bold;color:blue;">--------------------------------------------
</span><span style="font-weight:bold;color:blue;">-- Text encoding - Compatibility with String
</span><span style="font-weight:bold;color:blue;">--------------------------------------------
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Compatibility with the class String.
</span><span style="font-weight:bold;color:blue;">This is a work in progress, many methods not yet supported,
</span><span style="font-weight:bold;color:blue;">Unicode implementation still missing for many methods.
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">This string is used in several places:
</span><span style="font-weight:bold;color:blue;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;
</span><span style="font-weight:bold;color:blue;">Depending on your editor/browser, you may see 5 emojis, or 3 emojis.
</span><span style="font-weight:bold;color:blue;">With Unicode 13, the display is 3 emojis (woman + family + father christmas).
</span><span style="font-weight:bold;color:blue;">ğŸ‘©	U+1F469	WOMAN
</span><span style="font-weight:bold;color:blue;">â€	U+200D	ZERO WIDTH JOINER
</span><span style="font-weight:bold;color:blue;">ğŸ‘¨	U+1F468	MAN
</span><span style="font-weight:bold;color:blue;">â€	U+200D	ZERO WIDTH JOINER
</span><span style="font-weight:bold;color:blue;">ğŸ‘©	U+1F469	WOMAN
</span><span style="font-weight:bold;color:blue;">â€	U+200D	ZERO WIDTH JOINER
</span><span style="font-weight:bold;color:blue;">ğŸ‘§	U+1F467	GIRL
</span><span style="font-weight:bold;color:blue;">ğŸ…	U+1F385	FATHER CHRISTMAS
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">Notice that ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ constitute only 1 grapheme thanks to the ZERO WIDTH JOINER.
</span><span style="font-weight:bold;color:blue;">*/
</span>

ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~description=</span>
'UTF-8 not-ASCII (6 characters, 12 codepoints, 34 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~c2u=</span>
'U+006E U+006F U+00EB U+006C U+1F469 U+200D U+1F468 U+200D U+1F469 U+200D U+1F467 U+1F385'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~c2x=</span>
'6E 6F C3AB 6C F09F91A9 E2808D F09F91A8 E2808D F09F91A9 E2808D F09F91A7 F09F8E85'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~c2g=</span>
'6E 6F C3AB 6C F09F91A9E2808DF09F91A8E2808DF09F91A9E2808DF09F91A7 F09F8E85'


<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Two RexxText values are considered equal if their extended grapheme clusters
</span><span style="font-weight:bold;color:blue;">are canonically equivalent.This is used by the Swift language.
</span><span style="font-weight:bold;color:blue;">Q&amp;A: https://lists.isocpp.org/sg16/2018/08/0121.php
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">TODO: confirm that it's NFC, and only that.
</span><span style="font-weight:bold;color:blue;">The definition of canonical equivalence by the Unicode standard seems not
</span><span style="font-weight:bold;color:blue;">limited to NFC. https://unicode.org/notes/tn5/
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The strict comparison operators use the NFC normalization.
</span><span style="font-weight:bold;color:blue;">After normalization, they delegate to the String's strict comparison operators.
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">The non-strict comparison operators use the NFKD normalization plus
</span><span style="font-weight:bold;color:blue;">    stripIgnorable:.true
</span><span style="font-weight:bold;color:blue;">    lump:.true
</span><span style="font-weight:bold;color:blue;">After normalization + transformations, they delegate to the String's non-strict
</span><span style="font-weight:bold;color:blue;">comparison operators. Thanks to the lump transformation, all the Unicode spaces
</span><span style="font-weight:bold;color:blue;">are supported.
</span><span style="font-weight:bold;color:blue;">*/
</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">textNFC = &quot;NoÃ«l&quot;~text~NFC</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">textNFC~UnicodeCharacters==</span>
an Array (shape [4], 4 items)
 1 : ( &quot;N&quot;   U+004E Lu 1 &quot;LATIN CAPITAL LETTER N&quot; )
 2 : ( &quot;o&quot;   U+006F Ll 1 &quot;LATIN SMALL LETTER O&quot; )
 3 : ( &quot;Ã«&quot;   U+00EB Ll 1 &quot;LATIN SMALL LETTER E WITH DIAERESIS&quot; )
 4 : ( &quot;l&quot;   U+006C Ll 1 &quot;LATIN SMALL LETTER L&quot; )
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">textNFD=&quot;NoÃ«l&quot;~text~NFD</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">textNFD~UnicodeCharacters==</span>
an Array (shape [5], 5 items)
 1 : ( &quot;N&quot;   U+004E Lu 1 &quot;LATIN CAPITAL LETTER N&quot; )
 2 : ( &quot;o&quot;   U+006F Ll 1 &quot;LATIN SMALL LETTER O&quot; )
 3 : ( &quot;e&quot;   U+0065 Ll 1 &quot;LATIN SMALL LETTER E&quot; )
 4 : ( &quot;Ìˆ&quot;    U+0308 Mn 0 &quot;COMBINING DIAERESIS&quot; )
 5 : ( &quot;l&quot;   U+006C Ll 1 &quot;LATIN SMALL LETTER L&quot; )
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(textNFC == textNFD)=                                               </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(textNFC = textNFD)=                                                </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(&quot; &quot;textNFC == textNFD&quot; &quot;)=                                         </span><span style="font-weight:bold;color:blue;">-- 0 because strict</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(&quot; &quot;textNFC = textNFD&quot; &quot;)=                                          </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(&quot; &quot;textNFC = (textNFD&quot;\u{NBSP}&quot;)~unescape)=                        </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(&quot; &quot;textNFC = (textNFD&quot;\u{ZWSP}&quot;)~unescape)=                        </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">(&quot;-&quot;textNFC = (&quot;\u{OBLIQUE HYPHEN}&quot;textNFD&quot;\u{ZWSP}&quot;)~unescape)=    </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1


<span style="font-weight:bold;color:blue;">-- []
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text[3]=; result~description=</span>
T'Ã«'
'UTF-8 not-ASCII (1 character, 1 codepoint, 2 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text[3,3]=; result~description=</span>
T'Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§'
'UTF-8 not-ASCII (3 characters, 9 codepoints, 28 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text[3,6]=; result~description=</span>
T'Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
'UTF-8 not-ASCII (4 characters, 10 codepoints, 32 bytes, 0 error)'


<span style="font-weight:bold;color:blue;">-- ?
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;0&quot;~text~?(&quot;true&quot;~text, &quot;false&quot;~text)=</span>
T'false'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;1&quot;~text~?(&quot;true&quot;~text, &quot;false&quot;~text)=</span>
T'true'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;not a boolean value&quot;~text~?(&quot;true&quot;~text, &quot;false&quot;~text)=</span>
<span style="font-weight:bold;color:red;">Logical value must be exactly &quot;0&quot; or &quot;1&quot;; found &quot;not a boolean value&quot;.
</span><span style="font-weight:bold;color:red;">Error code= 34.901
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;not a boolean value ğŸ¤”&quot;~text~?(&quot;true&quot;~text, &quot;false&quot;~text)=</span>
<span style="font-weight:bold;color:red;">UTF-8 not-ASCII 'not a b...' is not compatible with a Rexx logical value.
</span><span style="font-weight:bold;color:red;">Error code= 23.900
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;0&quot;~text~?(&quot;true ğŸ¤”&quot;~text, &quot;false ğŸ¤”&quot;~text)=</span>
T'false ğŸ¤”'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;1&quot;~text~?(&quot;true ğŸ¤”&quot;~text, &quot;false ğŸ¤”&quot;~text)=</span>
T'true ğŸ¤”'


<span style="font-weight:bold;color:blue;">-- append
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~append(&quot; &quot;)~append(&quot;john&quot;~text)=</span>
T'hello john'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;\uD83D&quot;~text(&quot;wtf8&quot;)~append(&quot;\uDE3F&quot;)~unescape=    </span><span style="font-weight:bold;color:blue;">-- High surrogate followed by low surrogate is valid WTF-8</span>
T'ğŸ˜¿'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;\uD83D&quot;~text(&quot;utf8&quot;)~append(&quot;\uDE3F&quot;)~unescape=    </span><span style="font-weight:bold;color:blue;">-- High surrogate followed by low surrogate is INVALID UTF-8</span>
T'ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½'


<span style="font-weight:bold;color:blue;">-- c2d
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;e&quot;~text~c2d=</span>
 101
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Ã©&quot;~text~c2d=</span>
 50089


<span style="font-weight:bold;color:blue;">-- c2x
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~c2x=</span>
'6E 6F C3AB 6C F09F91A9 E2808D F09F91A8 E2808D F09F91A9 E2808D F09F91A7 F09F8E85'


<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">A caseless method is transforming its arguments using CaseFold.
</span><span style="font-weight:bold;color:blue;">The default normalization is NFC, it's possible to change it with the argument
</span><span style="font-weight:bold;color:blue;">normalization
</span><span style="font-weight:bold;color:blue;">    .unicode~NFC    (default)
</span><span style="font-weight:bold;color:blue;">    .unicode~NFD
</span><span style="font-weight:bold;color:blue;">    .unicode~NFKC
</span><span style="font-weight:bold;color:blue;">    .unicode~NFKD
</span><span style="font-weight:bold;color:blue;">There is no value NFKC_CF because it can be done using the caseless methods by
</span><span style="font-weight:bold;color:blue;">passing NFKC + stripIgnorable.
</span><span style="font-weight:bold;color:blue;">*/
</span>

<span style="font-weight:bold;color:blue;">-- caselessCompare
</span><span style="font-weight:bold;color:blue;">-- casefold 2 characters: &quot;ÃŸ&quot; becomes &quot;ss&quot;
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesstraÃŸe im Freiland&quot;~text~caselessCompare(&quot;BundesstraÃŸe&quot;)=        </span><span style="font-weight:bold;color:blue;">-- 14</span>
 14
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesstraÃŸe im Freiland&quot;~text~caselessCompare(&quot;BundesstraÃŸe&quot;, &quot;_&quot;)=   </span><span style="font-weight:bold;color:blue;">-- 13</span>
 13
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesstraÃŸe im Freiland&quot;~text~caselessCompare(&quot;bundesstrasse&quot;)=       </span><span style="font-weight:bold;color:blue;">-- 14</span>
 14
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Bundesstrasse im Freiland&quot;~text~caselessCompare(&quot;bundesstraÃŸe&quot;)=       </span><span style="font-weight:bold;color:blue;">-- 15</span>
 15
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;straÃŸssÃŸÃŸssse&quot;~text~compare(&quot;stra&quot;, &quot;ÃŸ&quot;)=                              </span><span style="font-weight:bold;color:blue;">--  6</span>
 6
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;straÃŸssÃŸÃŸssse&quot;~text~caselessCompare(&quot;stra&quot;, &quot;ÃŸ&quot;)=                      </span><span style="font-weight:bold;color:blue;">-- 12 (not 13 because the last 's' matches only half of the casefolded pad &quot;ÃŸ&quot; which is &quot;ss&quot;)</span>
 12


<span style="font-weight:bold;color:blue;">-- caselessCompareTo
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;pere noel&quot;~text~caselessCompareTo(&quot;PÃ¨re NoÃ«l&quot;)=                    </span><span style="font-weight:bold;color:blue;">-- -1 (lesser)</span>
-1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;pere noel&quot;~text~caselessCompareTo(&quot;PÃ¨re NoÃ«l&quot;, stripMark:.true)=   </span><span style="font-weight:bold;color:blue;">--  0 (equal because the accents are ignored)</span>
 0


<span style="font-weight:bold;color:blue;">-- caselessEndsWith
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~caselessEndsWith(&quot;&quot;)=                  </span><span style="font-weight:bold;color:blue;">-- false</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~caselessEndsWith(&quot;O&quot;)=                 </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~caselessEndsWith(&quot;Ã”&quot;)=                 </span><span style="font-weight:bold;color:blue;">-- false</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~caselessEndsWith(&quot;Ã”&quot;, stripMark:)=     </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
<span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessEndsWith(&quot;ğŸ…&quot;)=                </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessEndsWith(&quot;ğŸ‘§ğŸ…&quot;)=              </span><span style="font-weight:bold;color:blue;">-- false (not aligned with a grapheme)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessEndsWith(&quot;â€ğŸ‘§ğŸ…&quot;)=             </span><span style="font-weight:bold;color:blue;">-- false (not aligned with a grapheme)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessEndsWith(&quot;ğŸ‘©â€ğŸ‘§ğŸ…&quot;)=           </span><span style="font-weight:bold;color:blue;">-- false (not aligned with a grapheme)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessEndsWith(&quot;Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;)=   </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessEndsWith(&quot;Ã‹LğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;)=   </span><span style="font-weight:bold;color:blue;">-- true</span>
 1


<span style="font-weight:bold;color:blue;">-- caselessEquals
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Å’UF&quot;~text~caselessEquals(&quot;Å“uf&quot;)=           </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Å“uf&quot;~text~caselessEquals(&quot;Å’UF&quot;)=           </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;StraÃŸe&quot;~text~caselessEquals(&quot;strasse&quot;)=    </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;strasse&quot;~text~caselessEquals(&quot;StraÃŸe&quot;)=    </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1

<span style="font-weight:bold;color:blue;">-- caselessEquals (cont.) strict versus non-strict
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1 = &quot;LE\u{IDEOGRAPHIC SPACE}PÃˆ\u{ZERO-WIDTH-SPACE}RE\u{HYPHEN}NOÃ‹L&quot;~text~unescape</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2 = &quot;Le\u{OGHAM SPACE MARK}PÃ¨re\u{EN DASH}No\u{ZERO-WIDTH-SPACE}Ã«l&quot;~text~unescape</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1=                                                </span><span style="font-weight:bold;color:blue;">-- T'LEã€€PÃˆâ€‹REâ€NOÃ‹L</span>
T'LEã€€PÃˆâ€‹REâ€NOÃ‹L'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2=                                                </span><span style="font-weight:bold;color:blue;">-- T'Leáš€PÃ¨reâ€“Noâ€‹Ã«l'</span>
T'Leáš€PÃ¨reâ€“Noâ€‹Ã«l'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~c2x=                                            </span><span style="font-weight:bold;color:blue;">-- '4C 45 E38080 50 C388 E2808B 52 45 E28090 4E 4F C38B 4C'</span>
'4C 45 E38080 50 C388 E2808B 52 45 E28090 4E 4F C38B 4C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2~c2x=                                            </span><span style="font-weight:bold;color:blue;">-- '4C 65 E19A80 50 C3A8 72 65 E28093 4E 6F E2808B C3AB 6C'</span>
'4C 65 E19A80 50 C3A8 72 65 E28093 4E 6F E2808B C3AB 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~caselessEquals(string2)=                        </span><span style="font-weight:bold;color:blue;">-- false (strict mode by default)</span>
 0

<span style="font-weight:bold;color:blue;">-- The non-strict mode applies these transformations:
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~nfkd(casefold:, lump:, stripIgnorable:)~c2x=    </span><span style="font-weight:bold;color:blue;">-- '6C 65 20 70 65 CC80 72 65 2D 6E 6F 65 CC88 6C'</span>
'6C 65 20 70 65 CC80 72 65 2D 6E 6F 65 CC88 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2~nfkd(casefold:, lump:, stripIgnorable:)~c2x=    </span><span style="font-weight:bold;color:blue;">-- '6C 65 20 70 65 CC80 72 65 2D 6E 6F 65 CC88 6C'</span>
'6C 65 20 70 65 CC80 72 65 2D 6E 6F 65 CC88 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~caselessEquals(string2, strict:.false)=         </span><span style="font-weight:bold;color:blue;">-- true (non-strict mode)</span>
 1


<span style="font-weight:bold;color:blue;">-- caselessMatch
</span><span style="font-weight:bold;color:blue;">-- &quot;BundesschnellstraÃŸe&quot;                                    -- at 14: &quot;s&quot;, at 18:&quot;ÃŸ&quot;
</span><span style="font-weight:bold;color:blue;">--  1234567890123456789
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesstraÃŸe im Freiland&quot;~text~caselessMatch(14, &quot;im&quot;)=    </span><span style="font-weight:bold;color:blue;">-- .true</span>
 1


<span style="font-weight:bold;color:blue;">-- caselessMatchChar
</span><span style="font-weight:bold;color:blue;">-- &quot;BundesschnellstraÃŸe&quot;                                    -- at 14: &quot;s&quot;, at 18:&quot;ÃŸ&quot;
</span><span style="font-weight:bold;color:blue;">--  1234567890123456789
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesschnellstraÃŸe&quot;~text~caselessMatchChar(18, &quot;s&quot;)=      </span><span style="font-weight:bold;color:blue;">-- 0    &quot;ÃŸ&quot; becomes &quot;ss&quot; which is 2 characters. &quot;s&quot; doesn't match &quot;ss&quot;.</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesschnellstraÃŸe&quot;~text~caselessMatchChar(19, &quot;s&quot;)=      </span><span style="font-weight:bold;color:blue;">-- 0    &quot;ÃŸ&quot; becomes &quot;ss&quot; which is 2 characters. The character at 19 is &quot;e&quot;, not the second &quot;s&quot;</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesschnellstraÃŸe&quot;~text~caselessMatchChar(19, &quot;e&quot;)=      </span><span style="font-weight:bold;color:blue;">-- 1    &quot;ÃŸ&quot; becomes &quot;ss&quot; which is 2 characters. The character at 19 is &quot;e&quot;, not the second &quot;s&quot;</span>
 1

<span style="font-weight:bold;color:blue;">-- caselessMatchChar (cont.)
</span><span style="font-weight:bold;color:blue;">-- The ligature disappears when casefolded
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;baï¬„e&quot;~text~casefold=                                        </span><span style="font-weight:bold;color:blue;">-- T'baffle'</span>
T'baffle'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BAFFLE&quot;~text~caselessMatchChar(3, &quot;ï¬„&quot;)=                     </span><span style="font-weight:bold;color:blue;">-- 0   The 3rd character &quot;F&quot; casefolded &quot;f&quot; doesn't match &quot;&quot;ï¬„&quot;&quot; casefolded &quot;ffl&quot;</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BAFFLE&quot;~text~caselessMatchChar(5, &quot;ï¬„&quot;)=                     </span><span style="font-weight:bold;color:blue;">-- 0   The 5th character &quot;L&quot; casefolded &quot;l&quot; doesn't match &quot;&quot;ï¬„&quot;&quot; casefolded &quot;ffl&quot;</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BAFFLE&quot;~text~caselessMatchChar(5, &quot;L&quot;)=                      </span><span style="font-weight:bold;color:blue;">-- 1   There is a match on &quot;l&quot; at 5</span>
 1

<span style="font-weight:bold;color:blue;">-- caselessMatchChar (cont.)
</span><span style="font-weight:bold;color:blue;">-- Some ligatures are not decomposed by NFKC.
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Å’UF&quot;~text~caselessEquals(&quot;oeuf&quot;)=                                  </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Å’UF&quot;~text~caselessEquals(&quot;oeuf&quot;, normalization:.Unicode~NFKC)=     </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0


<span style="font-weight:bold;color:blue;">-- caselessPos
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~caselessPos(&quot;OÃ‹&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- 7</span>
 7
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~caselessPos(&quot;OÃ‹&quot;, 8)=                </span><span style="font-weight:bold;color:blue;">-- 17</span>
 17
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~caselessPos(&quot;OÃ‹&quot;, 8, 10)=            </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~caselessPos(&quot;OE&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~caselessPos(&quot;OE&quot;, stripMark:)=       </span><span style="font-weight:bold;color:blue;">-- 7</span>
 7
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessPos(&quot;ğŸ…&quot;)=                     </span><span style="font-weight:bold;color:blue;">-- 6</span>
 6
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessPos(&quot;ğŸ‘§ğŸ…&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0

<span style="font-weight:bold;color:blue;">-- caselessPos in not-aligned mode
</span><span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">aligned=.false is intended for analysis of matchings and [non-]regression tests.
</span><span style="font-weight:bold;color:blue;">Otherwise, I don't see any use.
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">If aligned=.false then return a couple (array) of numbers +/-posC.posB where
</span><span style="font-weight:bold;color:blue;">posB is the position of the matched byte in the transformed haystack, and posC
</span><span style="font-weight:bold;color:blue;">is the corresponding grapheme position in the untransformed haystack.
</span><span style="font-weight:bold;color:blue;">A number is negative if the byte position is not aligned with the corresponding
</span><span style="font-weight:bold;color:blue;">character position.
</span><span style="font-weight:bold;color:blue;">The first number is the start of the matching.
</span><span style="font-weight:bold;color:blue;">The second number is the end of the matching + 1.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessPos(&quot;ğŸ‘§ğŸ…&quot;, aligned:.false)=   </span><span style="font-weight:bold;color:blue;">-- [-5.27,+7.35]</span>
[-5.27,+7.35]
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~caselessPos(&quot;ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;, aligned:.false)=   </span><span style="font-weight:bold;color:blue;">-- [+5.6,+7.35]</span>
[+5.6,+7.35]


<span style="font-weight:bold;color:blue;">-- center
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noelFC&quot;~text~center(10)=; result~description=              </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
T'  noelFC  '
'UTF-8 ASCII (10 characters, 10 codepoints, 10 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(10)=; result~description=</span>
T'  noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…  '
'UTF-8 not-ASCII (10 characters, 16 codepoints, 38 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(9)=; result~description=</span>
T' noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…  '
'UTF-8 not-ASCII (9 characters, 15 codepoints, 37 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(8)=; result~description=</span>
T' noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ… '
'UTF-8 not-ASCII (8 characters, 14 codepoints, 36 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(7)=; result~description=</span>
T'noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ… '
'UTF-8 not-ASCII (7 characters, 13 codepoints, 35 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(6)=; result~description=</span>
T'noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
'UTF-8 not-ASCII (6 characters, 12 codepoints, 34 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(5)=; result~description=</span>
T'noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§'
'UTF-8 not-ASCII (5 characters, 11 codepoints, 30 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(4)=; result~description=</span>
T'oÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§'
'UTF-8 not-ASCII (4 characters, 10 codepoints, 29 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(3)=; result~description=</span>
T'oÃ«l'
'UTF-8 not-ASCII (3 characters, 3 codepoints, 4 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(2)=; result~description=</span>
T'Ã«l'
'UTF-8 not-ASCII (2 characters, 2 codepoints, 3 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(1)=; result~description=</span>
T'Ã«'
'UTF-8 not-ASCII (1 character, 1 codepoint, 2 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(0)=; result~description=</span>
T''
'UTF-8 ASCII (0 character, 0 codepoint, 0 byte, 0 error)'

<span style="font-weight:bold;color:blue;">-- center with pad
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;=&quot;~description=                                            </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 ASCII (1 byte)'</span>
'UTF-8 ASCII by default (1 byte)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;=&quot;~c2x=                                                    </span><span style="font-weight:bold;color:blue;">-- '3D'</span>
'3D'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noelFC&quot;~text~center(10, &quot;=&quot;)=; result~description=         </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
T'==noelFC=='
'UTF-8 ASCII (10 characters, 10 codepoints, 10 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;â•&quot;~description=                                            </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 not-ASCII (3 bytes)'</span>
'UTF-8 not-ASCII by default (3 bytes)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;â•&quot;~text~description=                                       </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 not-ASCII (1 character, 1 codepoint, 3 bytes, 0 error)'</span>
'UTF-8 not-ASCII (1 character, 1 codepoint, 3 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;â•&quot;~c2x=                                                    </span><span style="font-weight:bold;color:blue;">-- 'E29590'</span>
'E29590'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noelFC&quot;~text~center(10, &quot;â•&quot;)=; result~description=         </span><span style="font-weight:bold;color:blue;">-- don't forward to String because the pad is more than 1 byte</span>
T'â•â•noelFCâ•â•'
'UTF-8 not-ASCII (10 characters, 10 codepoints, 18 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(10, &quot;â•&quot;)=; result~description=</span>
T'â•â•noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â•â•'
'UTF-8 not-ASCII (10 characters, 16 codepoints, 46 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(9, &quot;â•&quot;)=; result~description=</span>
T'â•noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â•â•'
'UTF-8 not-ASCII (9 characters, 15 codepoints, 43 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(8, &quot;â•&quot;)=; result~description=</span>
T'â•noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â•'
'UTF-8 not-ASCII (8 characters, 14 codepoints, 40 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(7, &quot;â•&quot;)=; result~description=</span>
T'noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â•'
'UTF-8 not-ASCII (7 characters, 13 codepoints, 37 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~center(6, &quot;â•&quot;)=; result~description=</span>
T'noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
'UTF-8 not-ASCII (6 characters, 12 codepoints, 34 bytes, 0 error)'


<span style="font-weight:bold;color:blue;">-- compare
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesstraÃŸe im Freiland&quot;~text~compare(&quot;BundesstraÃŸe&quot;)=        </span><span style="font-weight:bold;color:blue;">-- 14</span>
 14
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesstraÃŸe im Freiland&quot;~text~compare(&quot;BundesstraÃŸe&quot;, &quot;_&quot;)=   </span><span style="font-weight:bold;color:blue;">-- 13</span>
 13
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesstraÃŸe im Freiland&quot;~text~compare(&quot;Bundesstrasse&quot;)=       </span><span style="font-weight:bold;color:blue;">-- 11</span>
 11
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Bundesstrasse im Freiland&quot;~text~compare(&quot;BundesstraÃŸe&quot;)=       </span><span style="font-weight:bold;color:blue;">-- 11</span>
 11
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;straÃŸssÃŸÃŸssse&quot;~text~compare(&quot;stra&quot;, &quot;ÃŸ&quot;)=                      </span><span style="font-weight:bold;color:blue;">--  6</span>
 6


<span style="font-weight:bold;color:blue;">-- compareTo
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;pere noel&quot;~text~compareTo(&quot;pÃ¨re noÃ«l&quot;)=                    </span><span style="font-weight:bold;color:blue;">-- -1 (lesser)</span>
-1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;pere noel&quot;~text~compareTo(&quot;pÃ¨re noÃ«l&quot;, stripMark:.true)=   </span><span style="font-weight:bold;color:blue;">--  0 (equal because the accents are ignored)</span>
 0


<span style="font-weight:bold;color:blue;">-- contains
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~contains(&quot;oe&quot;)=                 </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~contains(&quot;oe&quot;~text)=            </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~contains(&quot;oÃ«&quot;)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~contains(&quot;oÃ«&quot;~text)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~contains(&quot;oe&quot;)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~contains(&quot;oe&quot;~text)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~contains(&quot;oÃ«&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~contains(&quot;oÃ«&quot;~text)=</span>
 1


<span style="font-weight:bold;color:blue;">-- copies
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~copies(4)=; result~description=</span>
T'noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
'UTF-8 not-ASCII (24 characters, 48 codepoints, 136 bytes, 0 error)'


<span style="font-weight:bold;color:blue;">-- endsWith
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~endsWith(&quot;&quot;)=                  </span><span style="font-weight:bold;color:blue;">-- false</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~endsWith(&quot;o&quot;)=                 </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~endsWith(&quot;Ã´&quot;)=                 </span><span style="font-weight:bold;color:blue;">-- false</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;hello&quot;~text~endsWith(&quot;Ã´&quot;, stripMark:)=     </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~endsWith(&quot;ğŸ…&quot;)=                </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~endsWith(&quot;ğŸ‘§ğŸ…&quot;)=              </span><span style="font-weight:bold;color:blue;">-- false (not aligned with a grapheme)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~endsWith(&quot;â€ğŸ‘§ğŸ…&quot;)=             </span><span style="font-weight:bold;color:blue;">-- false (not aligned with a grapheme)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~endsWith(&quot;ğŸ‘©â€ğŸ‘§ğŸ…&quot;)=           </span><span style="font-weight:bold;color:blue;">-- false (not aligned with a grapheme)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~endsWith(&quot;Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;)=   </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~endsWith(&quot;Ã‹LğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;)=   </span><span style="font-weight:bold;color:blue;">-- false</span>
 0


<span style="font-weight:bold;color:blue;">-- equals
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Å’UF&quot;~text~lower~equals(&quot;Å“uf&quot;)=             </span><span style="font-weight:bold;color:blue;">-- true</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Å’UF&quot;~text~equals(&quot;Å“uf&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- false (would be true if caseless)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Å“uf&quot;~text~equals(&quot;Å’UF&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- false (would be true if caseless)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;StraÃŸe&quot;~text~lower~equals(&quot;straÃŸe&quot;)=       </span><span style="font-weight:bold;color:blue;">-- true (U+00DF &quot;LATIN SMALL LETTER SHARP S&quot; remains unchanged since it's already a lower letter)</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;StraÃŸe&quot;~text~casefold~equals(&quot;strasse&quot;)=   </span><span style="font-weight:bold;color:blue;">-- true (U+00DF &quot;LATIN SMALL LETTER SHARP S&quot; becomes &quot;ss&quot; when casefolded)</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;StraÃŸe&quot;~text~equals(&quot;strasse&quot;)=            </span><span style="font-weight:bold;color:blue;">-- false (would be true if caseless)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;strasse&quot;~text~equals(&quot;StraÃŸe&quot;)=            </span><span style="font-weight:bold;color:blue;">-- false (would be true if caseless)</span>
 0

<span style="font-weight:bold;color:blue;">-- equals (cont.) strict versus non-strict
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1 = &quot;Le\u{IDEOGRAPHIC SPACE}PÃ¨\u{ZERO-WIDTH-SPACE}re\u{HYPHEN}NoÃ«l&quot;~text~unescape</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2 = &quot;Le\u{OGHAM SPACE MARK}PÃ¨re\u{EN DASH}No\u{ZERO-WIDTH-SPACE}Ã«l&quot;~text~unescape</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1=                                    </span><span style="font-weight:bold;color:blue;">-- T'Leã€€PÃ¨â€‹reâ€NoÃ«l'</span>
T'Leã€€PÃ¨â€‹reâ€NoÃ«l'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2=                                    </span><span style="font-weight:bold;color:blue;">-- T'Leáš€PÃ¨reâ€“Noâ€‹Ã«l'</span>
T'Leáš€PÃ¨reâ€“Noâ€‹Ã«l'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~c2x=                                </span><span style="font-weight:bold;color:blue;">-- '4C 65 E38080 50 C3A8 E2808B 72 65 E28090 4E 6F C3AB 6C'</span>
'4C 65 E38080 50 C3A8 E2808B 72 65 E28090 4E 6F C3AB 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2~c2x=                                </span><span style="font-weight:bold;color:blue;">-- '4C 65 E19A80 50 C3A8 72 65 E28093 4E 6F E2808B C3AB 6C'</span>
'4C 65 E19A80 50 C3A8 72 65 E28093 4E 6F E2808B C3AB 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~equals(string2)=                    </span><span style="font-weight:bold;color:blue;">-- false (strict mode by default)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:blue;">-- The non-strict mode applies these transformations:
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~nfkd(lump:, stripIgnorable:)~c2x=   </span><span style="font-weight:bold;color:blue;">-- '4C 65 20 50 65 CC80 72 65 2D 4E 6F 65 CC88 6C'</span>
'4C 65 20 50 65 CC80 72 65 2D 4E 6F 65 CC88 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string2~nfkd(lump:, stripIgnorable:)~c2x=   </span><span style="font-weight:bold;color:blue;">-- '4C 65 20 50 65 CC80 72 65 2D 4E 6F 65 CC88 6C'</span>
'4C 65 20 50 65 CC80 72 65 2D 4E 6F 65 CC88 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">string1~equals(string2, strict:.false)=     </span><span style="font-weight:bold;color:blue;">-- true (non-strict mode)</span>
 1


<span style="font-weight:bold;color:blue;">-- hashCode
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~hashCode~class=</span>
(The String class)
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~hashCode~c2x=</span>
'8FA5DCDA35AE1A58'


<span style="font-weight:bold;color:blue;">-- left
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">do i=0 to 9; &quot;left(&quot;i&quot;) = &quot; || &quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~left(i)=; end</span>
T'left(0) = '
T'left(1) = n'
T'left(2) = no'
T'left(3) = noÃ«'
T'left(4) = noÃ«l'
T'left(5) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§'
T'left(6) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'left(7) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ… '
T'left(8) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…  '
T'left(9) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…   '
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">do i=0 to 9; &quot;left(&quot;i&quot;, â–·) = &quot; || &quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~left(i, &quot;â–·&quot;)=; end</span>
T'left(0, â–·) = '
T'left(1, â–·) = n'
T'left(2, â–·) = no'
T'left(3, â–·) = noÃ«'
T'left(4, â–·) = noÃ«l'
T'left(5, â–·) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§'
T'left(6, â–·) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'left(7, â–·) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â–·'
T'left(8, â–·) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â–·â–·'
T'left(9, â–·) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â–·â–·â–·'


<span style="font-weight:bold;color:blue;">-- length
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~length=</span>
 6


<span style="font-weight:bold;color:blue;">-- lower
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;LE PÃˆRE NOÃ‹L EST FATIGUÃ‰...&quot;~text~lower=       </span><span style="font-weight:bold;color:blue;">-- T'le pÃ¨re noÃ«l est fatiguÃ©...'</span>
T'le pÃ¨re noÃ«l est fatiguÃ©...'


<span style="font-weight:bold;color:blue;">-- match
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~match(2, &quot;oe&quot;)=                 </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~match(2, &quot;oe&quot;~text)=            </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~match(2, &quot;oÃ«&quot;)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~match(2, &quot;oÃ«&quot;~text)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(2, &quot;oe&quot;)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(2, &quot;oe&quot;~text)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(2, &quot;oÃ«&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(2, &quot;oÃ«&quot;~text)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(2, &quot;oÃ«l&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(2, &quot;oÃ«l&quot;~text)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(3, &quot;Ã«&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(3, &quot;Ã«&quot;~text)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(3, &quot;Ã«l&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(3, &quot;Ã«l&quot;~text)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(4, &quot;l&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~match(4, &quot;l&quot;~text)=</span>
 1


<span style="font-weight:bold;color:blue;">-- matchChar
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~matchChar(3, &quot;Ee&quot;)=             </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~matchChar(3, &quot;Ee&quot;~text)=        </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~matchChar(3, &quot;EÃ‹eÃ«&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~matchChar(3, &quot;EÃ‹eÃ«&quot;~text)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~matchChar(3, &quot;EÃ‹eÃ«&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~matchChar(3, &quot;EÃ‹eÃ«&quot;~text)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~matchChar(3, &quot;EÃ‹eÃ«&quot;)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~matchChar(3, &quot;Ee&quot;, stripMark:)= </span><span style="font-weight:bold;color:blue;">-- remove the accents from the tested string</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~matchChar(4, &quot;Ll&quot;~text)=</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~matchChar(4, &quot;Ll&quot;~text)=</span>
 1

<span style="font-weight:bold;color:blue;">-- matchChar (cont.)
</span><span style="font-weight:bold;color:blue;">-- &quot;BundesschnellstraÃŸe&quot;                                    -- at 14: &quot;s&quot;, at 18:&quot;ÃŸ&quot;
</span><span style="font-weight:bold;color:blue;">--  1234567890123456789
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesschnellstraÃŸe&quot;~text~matchChar(14, &quot;s&quot;)=              </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesschnellstraÃŸe&quot;~text~matchChar(18, &quot;s&quot;)=              </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;BundesschnellstraÃŸe&quot;~text~matchChar(18, &quot;ÃŸ&quot;)=              </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1

<span style="font-weight:bold;color:blue;">-- matchChar (cont.)
</span><span style="font-weight:bold;color:blue;">-- The ligature disappears in NFK[CD] but not in NF[CD]
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;baï¬„e&quot;~text~matchChar(3, &quot;f&quot;)=                               </span><span style="font-weight:bold;color:blue;">-- 0     &quot;ï¬„&quot; is ONE character, doesn't match &quot;f&quot;</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;baï¬„e&quot;~text~matchChar(3, &quot;ï¬„&quot;)=                              </span><span style="font-weight:bold;color:blue;">-- 1     There is a match because &quot;ï¬„&quot; on both sides</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;baï¬„e&quot;~text~matchChar(3, &quot;ï¬„&quot;, normalization:.Unicode~NFKD)= </span><span style="font-weight:bold;color:blue;">-- 1     There is a match because &quot;ï¬„&quot; on both sides</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;baï¬„e&quot;~text~matchChar(3, &quot;f&quot;, normalization:.Unicode~NFKD)=  </span><span style="font-weight:bold;color:blue;">-- 0     The 3rd character &quot;ï¬„&quot; becomes &quot;ffl&quot; (3 characters), doesn't match &quot;f&quot;</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;baï¬„e&quot;~text~matchChar(4, &quot;f&quot;, normalization:.Unicode~NFKD)=  </span><span style="font-weight:bold;color:blue;">-- 0     The 4th character is &quot;e&quot;, doesn't match &quot;f&quot;</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;baï¬„e&quot;~text~matchChar(4, &quot;e&quot;, normalization:.Unicode~NFKD)=  </span><span style="font-weight:bold;color:blue;">-- 1     The 4th character is &quot;e&quot;, does match &quot;e&quot;</span>
 1


<span style="font-weight:bold;color:blue;">-- pos
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~pos(&quot;oe&quot;)=                      </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 2
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~pos(&quot;oe&quot;~text)=                 </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
 2
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~pos(&quot;oÃ«&quot;)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~pos(&quot;oÃ«&quot;~text)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~pos(&quot;oe&quot;)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~pos(&quot;oe&quot;~text)=</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~pos(&quot;oÃ«&quot;)=</span>
 2
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~pos(&quot;oÃ«&quot;~text)=</span>
 2
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~pos(&quot;l&quot;)=</span>
 4
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~pos(&quot;l&quot;~text)=</span>
 4
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~pos(&quot;oÃ«&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- 7</span>
 7
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~pos(&quot;oÃ«&quot;, 8)=                </span><span style="font-weight:bold;color:blue;">-- 17</span>
 17
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~pos(&quot;oÃ«&quot;, 8, 10)=            </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~pos(&quot;oe&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;PÃ¨re NoÃ«l PÃ¨re NoÃ«l&quot;~text~pos(&quot;oe&quot;, stripMark:)=       </span><span style="font-weight:bold;color:blue;">-- 7</span>
 7
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~pos(&quot;ğŸ…&quot;)=                     </span><span style="font-weight:bold;color:blue;">-- 6</span>
 6
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~pos(&quot;ğŸ‘§ğŸ…&quot;)=                   </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~pos(&quot;ğŸ‘§ğŸ…&quot;, aligned:.false)=   </span><span style="font-weight:bold;color:blue;">-- [-5.27,+7.35]</span>
[-5.27,+7.35]
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~pos(&quot;ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;, aligned:.false)=   </span><span style="font-weight:bold;color:blue;">-- [+5.6,+7.35]</span>
[+5.6,+7.35]


<span style="font-weight:bold;color:blue;">-- reverse (correct)
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~c2x=            </span><span style="font-weight:bold;color:blue;">-- '6E 6F C3AB 6C'</span>
'6E 6F C3AB 6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~reverse~c2x=    </span><span style="font-weight:bold;color:blue;">-- '6C C3AB 6F 6E'</span>
'6C C3AB 6F 6E'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~text~reverse=        </span><span style="font-weight:bold;color:blue;">-- T'lÃ«on'</span>
T'lÃ«on'

<span style="font-weight:bold;color:blue;">-- reverse (wrong)
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~c2x=             </span><span style="font-weight:bold;color:blue;">-- '6E6FC3AB6C'</span>
'6E6FC3AB6C'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~reverse~c2x=     </span><span style="font-weight:bold;color:blue;">-- '6CABC36F6E'</span>
'6CABC36F6E'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«l&quot;~reverse=         </span><span style="font-weight:bold;color:blue;">-- 'l??on'</span>
'lï¿½ï¿½on'


<span style="font-weight:bold;color:blue;">-- right
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">do i=0 to 9; &quot;right(&quot;i&quot;) = &quot; || &quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~right(i)=; end</span>
T'right(0) = '
T'right(1) = ğŸ…'
T'right(2) = ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(3) = lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(4) = Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(5) = oÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(6) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(7) =  noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(8) =   noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(9) =    noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">do i=0 to 9; &quot;right(&quot;i&quot;, â–·) = &quot; || &quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~right(i, &quot;â–·&quot;)=; end</span>
T'right(0, â–·) = '
T'right(1, â–·) = ğŸ…'
T'right(2, â–·) = ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(3, â–·) = lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(4, â–·) = Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(5, â–·) = oÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(6, â–·) = noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(7, â–·) = â–·noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(8, â–·) = â–·â–·noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'
T'right(9, â–·) = â–·â–·â–·noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…'


<span style="font-weight:bold;color:blue;">-- subchar
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~subchar(3)=; result~description=</span>
T'Ã«'
'UTF-8 not-ASCII (1 character, 1 codepoint, 2 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~subchar(4)=; result~description=</span>
T'l'
'UTF-8 ASCII (1 character, 1 codepoint, 1 byte, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~subchar(5)=; result~description=</span>
T'ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§'
'UTF-8 not-ASCII (1 character, 7 codepoints, 25 bytes, 0 error)'


<span style="font-weight:bold;color:blue;">-- substr
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~substr(3, 3, &quot;x&quot;)=; result~description=   </span><span style="font-weight:bold;color:blue;">-- forward to String</span>
T'elx'
'UTF-8 ASCII (3 characters, 3 codepoints, 3 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~substr(3, 3, &quot;â–·&quot;)=; result~description=        </span><span style="font-weight:bold;color:blue;">-- self is a String: error because the pad character is 3 bytes</span>
<span style="font-weight:bold;color:red;">Incorrect pad or character argument specified; found &quot;â–·&quot;
</span><span style="font-weight:bold;color:red;">Error code= 93.922
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~substr(3, 3, &quot;â–·&quot;~text)=; result~description=   </span><span style="font-weight:bold;color:blue;">-- self is a String: error because the pad character is not compatible with String</span>
<span style="font-weight:bold;color:red;">UTF-8 not-ASCII 'â–·' cannot be converted to a String instance.
</span><span style="font-weight:bold;color:red;">Error code= 23.900
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noel&quot;~text~substr(3, 3, &quot;â–·&quot;)=; result~description=   </span><span style="font-weight:bold;color:blue;">-- no error because self is a RexxText and the pad character is one character when converted to the default encoding</span>
T'elâ–·'
'UTF-8 not-ASCII (3 characters, 3 codepoints, 5 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~substr(3, 3, &quot;â–·&quot;)=; result~description=</span>
T'Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§'
'UTF-8 not-ASCII (3 characters, 9 codepoints, 28 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;noÃ«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…&quot;~text~substr(3, 6, &quot;â–·&quot;)=; result~description=</span>
T'Ã«lğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ…â–·â–·'
'UTF-8 not-ASCII (6 characters, 12 codepoints, 38 bytes, 0 error)'


<span style="font-weight:bold;color:blue;">-- upper
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Le pÃ¨re NoÃ«l est fatiguÃ©...&quot;~text~upper=       </span><span style="font-weight:bold;color:blue;">-- T'LE PÃˆRE NOÃ‹L EST FATIGUÃ‰...'</span>
T'LE PÃˆRE NOÃ‹L EST FATIGUÃ‰...'




<span style="font-weight:bold;color:blue;">-- x2c
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;F09F9180&quot;~text~x2c=</span>
T'ğŸ‘€'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;not an hexadecimal value&quot;~text~x2c</span>
<span style="font-weight:bold;color:red;">Only 0-9, a-f, A-F, and whitespace characters are valid in a hexadecimal string; character found &quot;n&quot;.
</span><span style="font-weight:bold;color:red;">Error code= 93.933
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;not an hexadecimal value ğŸ¤”&quot;~text~x2c</span>
<span style="font-weight:bold;color:red;">UTF-8 not-ASCII 'not an ...' is not compatible with a Rexx hexadecimal value.
</span><span style="font-weight:bold;color:red;">Error code= 23.900
</span>

<span style="font-weight:bold;color:blue;">---------------------------------------------------------
</span><span style="font-weight:bold;color:blue;">-- Text encoding - Functional
</span><span style="font-weight:bold;color:blue;">---------------------------------------------------------
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The only needed methods on RexxText are
</span><span style="font-weight:bold;color:blue;">    ~characters
</span><span style="font-weight:bold;color:blue;">    ~subwords   (still to implement)
</span><span style="font-weight:bold;color:blue;">    ~chunks     (still to implement)
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Example inspired by https://elixir-lang.org/
</span><span style="font-weight:bold;color:blue;">Frequency of each character, ignoring the accents:
</span><span style="font-weight:bold;color:blue;">&quot;Elixir&quot; |&gt; String.graphemes() |&gt; Enum.frequencies()
</span><span style="font-weight:bold;color:blue;">%{&quot;E&quot; =&gt; 1, &quot;i&quot; =&gt; 2, &quot;l&quot; =&gt; 1, &quot;r&quot; =&gt; 1, &quot;x&quot; =&gt; 1}
</span><span style="font-weight:bold;color:blue;">*/
</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Notre pÃ¨re NoÃ«l ğŸ…&quot;~text~transform(stripMark:)~reduce(by: &quot;characters&quot;, initial: .stem~new~~put(0)){accu[item~string] += 1}=</span>
a Stem (9 items)
'ğŸ…' :  1
' '    :  3
'e'    :  4
'l'    :  1
'N'    :  2
'o'    :  2
'p'    :  1
'r'    :  2
't'    :  1


<span style="font-weight:bold;color:blue;">---------------------------------------------------------
</span><span style="font-weight:bold;color:blue;">-- Text encoding - Generator
</span><span style="font-weight:bold;color:blue;">---------------------------------------------------------
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">The only needed methods on RexxText are
</span><span style="font-weight:bold;color:blue;">    ~characters
</span><span style="font-weight:bold;color:blue;">    ~subwords   (still to implement)
</span><span style="font-weight:bold;color:blue;">*/
</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g=&quot;NoÃ«l ğŸ…&quot;~text~generateC</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g~()=       </span><span style="font-weight:bold;color:blue;">-- T'N'</span>
T'N'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g~()=       </span><span style="font-weight:bold;color:blue;">-- T'o'</span>
T'o'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g~()=       </span><span style="font-weight:bold;color:blue;">-- T'Ã«'</span>
T'Ã«'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g~()=       </span><span style="font-weight:bold;color:blue;">-- T'l'</span>
T'l'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g~()=       </span><span style="font-weight:bold;color:blue;">-- T' '</span>
T' '
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g~()=       </span><span style="font-weight:bold;color:blue;">-- T'ğŸ…'</span>
T'ğŸ…'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">g~()=       </span><span style="font-weight:bold;color:blue;">-- [no result]</span>
[no result]


<span style="font-weight:bold;color:blue;">---------------------------------------------------------
</span><span style="font-weight:bold;color:blue;">-- Text encoding - Compatibility with regular expressions
</span><span style="font-weight:bold;color:blue;">---------------------------------------------------------
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">A way to test the compatibility of RexxText with String is to pass instances of
</span><span style="font-weight:bold;color:blue;">RexxText to the regular expression engine regex.cls, and see what happens...
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">Relax the constraint &quot;self~isCompatibleWithByteString&quot; when converting a RexxText
</span><span style="font-weight:bold;color:blue;">to a String. That allows to go further in the tests of regular expression.
</span><span style="font-weight:bold;color:blue;">*/
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">unckeckedConversionToString = .Unicode~unckeckedConversionToString </span><span style="font-weight:bold;color:blue;">-- backup</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">.Unicode~unckeckedConversionToString = .true</span>

ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB = .Pattern~compile(&quot;a.c&quot;)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT = .Pattern~compile(&quot;a.c&quot;~text)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~matches(&quot;abc&quot;)=                          </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~matches(&quot;abc&quot;~text)=                     </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~matches(&quot;aÃ´c&quot;)=                          </span><span style="font-weight:bold;color:blue;">-- 0 (KO)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~matches(&quot;aÃ´c&quot;~text)=                     </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~matches(&quot;ağŸ…c&quot;)=                         </span><span style="font-weight:bold;color:blue;">-- 0 (KO)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~matches(&quot;ağŸ…c&quot;~text)=                    </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1

ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB = .Pattern~compile(&quot;ğŸ¤¶...ğŸ…&quot;)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT = .Pattern~compile(&quot;ğŸ¤¶...ğŸ…&quot;~text)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~matches(&quot;ğŸ¤¶123ğŸ…&quot;)=                      </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~matches(&quot;ğŸ¤¶123ğŸ…&quot;~text)=                 </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~matches(&quot;ğŸ¤¶ğŸ•2ğŸˆğŸ…&quot;)=                    </span><span style="font-weight:bold;color:blue;">-- 0 (KO)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~matches(&quot;ğŸ¤¶ğŸ•2ğŸˆğŸ…&quot;~text)=               </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~matches(&quot;ğŸ¤¶ğŸ•ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸˆğŸ…&quot;)=          </span><span style="font-weight:bold;color:blue;">-- 0 (KO)</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~matches(&quot;ğŸ¤¶ğŸ•ğŸ‘©â€ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸˆğŸ…&quot;~text)=     </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1

<span style="font-weight:bold;color:blue;">-- &quot;ğŸ¤¶&quot; or &quot;ğŸ…&quot;
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB = .Pattern~compile(&quot;ğŸ¤¶|ğŸ…&quot;)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT = .Pattern~compile(&quot;ğŸ¤¶|ğŸ…&quot;~text)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~startsWith(&quot;ğŸ¤¶ğŸ…c&quot;)=                             </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~startsWith(&quot;ğŸ¤¶ğŸ…c&quot;~text)=                        </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pB~startsWith(&quot;ğŸ…ğŸ¤¶c&quot;)=                             </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">pT~startsWith(&quot;ğŸ…ğŸ¤¶c&quot;~text)=                        </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r = pB~find(&quot;xxxğŸ¤¶ğŸ…cxxx&quot;)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r~matched=; r~start=; r~end=; r~text=; r~length=</span>
 1
 4
 8
'ğŸ¤¶'
 4
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r = pT~find(&quot;xxxğŸ¤¶ğŸ…cxxx&quot;~text)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r~matched=; r~start=; r~end=; r~text=; r~length=</span>
 1
 4
 5
T'ğŸ¤¶'
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r = pB~find(&quot;xxxğŸ…ğŸ¤¶cxxx&quot;)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r~matched=; r~start=; r~end=; r~text=; r~length=</span>
 1
 4
 8
'ğŸ…'
 4
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r = pT~find(&quot;xxxğŸ…ğŸ¤¶cxxx&quot;~text)</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">r~matched=; r~start=; r~end=; r~text=; r~length=</span>
 1
 4
 5
T'ğŸ…'
 1

ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">.Unicode~unckeckedConversionToString = unckeckedConversionToString </span><span style="font-weight:bold;color:blue;">-- restore</span>


<span style="font-weight:bold;color:blue;">-----------------------------------------
</span><span style="font-weight:bold;color:blue;">-- Text encoding - Compatibility with BIF
</span><span style="font-weight:bold;color:blue;">-----------------------------------------
</span>
<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">[Intermediate solution]
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">Several solutions in RosettaCode are in error because the pad character used
</span><span style="font-weight:bold;color:blue;">with the function 'center' is a UTF-8 string made of several bytes.
</span><span style="font-weight:bold;color:blue;">The function center now supports utf-8 pad made of 1 multi-bytes character.
</span><span style="font-weight:bold;color:blue;">When the pad is not a 1 byte character then the interpreter converts the string
</span><span style="font-weight:bold;color:blue;">to a RexxText and sends it the message &quot;center&quot;.
</span><span style="font-weight:bold;color:blue;">The returned value is the String associated to the RexxText.
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">The invariants of the method 'center' are true for the RexxText, but not true for
</span><span style="font-weight:bold;color:blue;">the String (which is normal).
</span><span style="font-weight:bold;color:blue;">*/
</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;â•&quot;~description=                                </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 not-ASCII (3 bytes)'</span>
'UTF-8 not-ASCII by default (3 bytes)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;â•&quot;~text~description=                           </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 not-ASCII (1 character, 1 codepoint, 3 bytes, 0 error)'</span>
'UTF-8 not-ASCII (1 character, 1 codepoint, 3 bytes, 0 error)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;â•&quot;~c2x=                                        </span><span style="font-weight:bold;color:blue;">-- 'E29590'</span>
'E29590'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">center(&quot;hello&quot;, 20, &quot;â•&quot;)=                       </span><span style="font-weight:bold;color:blue;">-- 'â•â•â•â•â•â•â•helloâ•â•â•â•â•â•â•â•'</span>
'â•â•â•â•â•â•â•helloâ•â•â•â•â•â•â•â•'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">center(&quot;hello&quot;, 20, &quot;â•&quot;)~text~description=      </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 not-ASCII (20 characters, 20 codepoints, 50 bytes, 0 error)'</span>
'UTF-8 not-ASCII (20 characters, 20 codepoints, 50 bytes, 0 error)'

<span style="font-weight:bold;color:blue;">-- Idem for the function 'left'
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">left(&quot;hello&quot;, 20, &quot;â•&quot;)=                         </span><span style="font-weight:bold;color:blue;">-- 'helloâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'</span>
'helloâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">left(&quot;hello&quot;, 20, &quot;â•&quot;)~text~description=        </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 not-ASCII (20 characters, 20 codepoints, 50 bytes, 0 error)'</span>
'UTF-8 not-ASCII (20 characters, 20 codepoints, 50 bytes, 0 error)'


<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">[General solution]
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">The new path I would like to explore is the support of graphemes by ALL the BIF...
</span><span style="font-weight:bold;color:blue;">I have already a tiny support for center() and left(), only triggered in case of
</span><span style="font-weight:bold;color:blue;">pad character made of several bytes.
</span><span style="font-weight:bold;color:blue;">
</span><span style="font-weight:bold;color:blue;">The generalization would be to route the BIF either towards String or towards RexxText,
</span><span style="font-weight:bold;color:blue;">in function of the compatibility of the arguments with String:
</span><span style="font-weight:bold;color:blue;">BIF(str1, str2, ..., strN)
</span><span style="font-weight:bold;color:blue;">    --&gt; forward to String (byte-oriented) if str's encoding is Byte or UTF-8 (with ASCII characters only)
</span><span style="font-weight:bold;color:blue;">    --&gt; forward to RexxText otherwise
</span><span style="font-weight:bold;color:blue;">*/
</span>
<span style="font-weight:bold;color:blue;">-- UTF-8 encoding
</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;Noel&quot;~isCompatibleWithByteString=              </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">length(&quot;Noel&quot;)=                                 </span><span style="font-weight:bold;color:blue;">-- 4 because &quot;Noel&quot;~length = 4</span>
 4
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;NoÃ«l&quot;~isCompatibleWithByteString=              </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">length(&quot;NoÃ«l&quot;)=                                 </span><span style="font-weight:bold;color:blue;">-- TODO: 4 because &quot;NoÃ«l&quot;~text~length = 4</span>
 5
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">&quot;NoÃ«l&quot;~length=                                  </span><span style="font-weight:bold;color:blue;">-- 5 because String remains byte-oriented, not impacted by the default encoding</span>
 5

<span style="font-weight:bold;color:blue;">-- UTF-16BE encoding
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s = &quot;0041004200430044&quot;x</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s=                                              </span><span style="font-weight:bold;color:blue;">-- '[00]A[00]B[00]C[00]D'</span>
'[00]A[00]B[00]C[00]D'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~isCompatibleWithByteString=                   </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~description=                                  </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 ASCII (8 bytes)'</span>
'UTF-8 ASCII by default (8 bytes)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">length(s)=                                      </span><span style="font-weight:bold;color:blue;">-- 8 because encoding UTF-8 ASCII is compatible with String</span>
 8
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~encoding = &quot;UTF16&quot;</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~isCompatibleWithByteString=                   </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~description=                                  </span><span style="font-weight:bold;color:blue;">-- 'UTF-16BE (8 bytes)'</span>
'UTF-16BE (8 bytes)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~length=                                       </span><span style="font-weight:bold;color:blue;">-- 8 because String is always byte-oriented (ignores the encoding)</span>
 8
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">length(s)=                                      </span><span style="font-weight:bold;color:blue;">-- TODO: 4 because forwards to Text (encoding UTF-16BE is not compatible with String)</span>
 8
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~text~utf8=                                    </span><span style="font-weight:bold;color:blue;">-- ABCD</span>
T'ABCD'

<span style="font-weight:bold;color:blue;">-- UTF-32 encoding
</span>ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s = &quot;0000004100000042&quot;x</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s=                                              </span><span style="font-weight:bold;color:blue;">-- '[000000]A[000000]B'</span>
'[000000]A[000000]B'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~isCompatibleWithByteString=                   </span><span style="font-weight:bold;color:blue;">-- 1</span>
 1
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~description=                                  </span><span style="font-weight:bold;color:blue;">-- 'UTF-8 ASCII (8 bytes)'</span>
'UTF-8 ASCII by default (8 bytes)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">length(s)=                                      </span><span style="font-weight:bold;color:blue;">-- 8 because encoding UTF-8 ASCII is compatible with String</span>
 8
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~encoding = &quot;UTF32&quot;</span>
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~isCompatibleWithByteString=                   </span><span style="font-weight:bold;color:blue;">-- 0</span>
 0
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~description=                                  </span><span style="font-weight:bold;color:blue;">-- 'UTF-32BE (8 bytes)'</span>
'UTF-32BE (8 bytes)'
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~length=                                       </span><span style="font-weight:bold;color:blue;">-- 8 because String is always byte-oriented (ignores the encoding)</span>
 8
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">length(s)=                                      </span><span style="font-weight:bold;color:blue;">-- TODO: 2 because forwards to Text (encoding UTF-32 is not compatible with String)</span>
 8
ooRexx[sh]&gt; <span style="font-weight:bold;color:purple;">s~text~utf8=                                    </span><span style="font-weight:bold;color:blue;">-- AB</span>
T'AB'


<span style="font-weight:bold;color:blue;">/*
</span><span style="font-weight:bold;color:blue;">End of demonstration.
</span><span style="font-weight:bold;color:blue;">*/
</span></pre>
</body>
</html>
