The interpreter has been modified to add thread id, activation id and lock flag in the lines printed by trace.

Informations that are displayed.
RexxActivity::traceOutput(RexxActivation *activation, ...
T1       SysCurrentThreadId(),
A2       (unsigned int)activation,
V1       (activation) ? activation->getVariableDictionary() : NULL,         // settings.object_variables
1        (activation) ? activation->getReserveCount() : 0,                  // settings.object_variables->getReserveCount()
*        (activation && activation->isObjectScopeLocked()) ? '*' : ' ');    // object_scope == SCOPE_RESERVED

But the thread id and activation id are pointers written in hexadecimal, which is not very easy to read.
The script tracer.rex lets :
- replace hexadecimal values by more human-readable values like T1, A1.
- generate a CSV file, for further analysis with your favorite tool.


For illustration purpose, I added the directive
::options trace i
in oophil.rex, and ran it with default values.

oophil_trace_raw.txt
Generated by : rexx "C:\Program Files\ooRexx\samples\oodialog\oophil.rex" > out.txt 2>&1

The script tracer.rex lets replace such hexadecimal values by more human-readable values like T1, A1.
oophil_trace_hr.txt
Generated by : rexx tracer oophil_trace_raw.txt > oophil_trace_hr.txt

The script tracer.rex lets generate a CSV file, for further analysis with your favorite tool.
oophil_trace_csv.txt
Generated by : rexx tracer -csv oophil_trace_raw.txt > oophil_trace_csv.txt

CSV columns : thread activation vardict count lock kind scope executable line prefix source package raw
The 'raw' column contains the lines that are not regular trace output (you can filter out those lines with option -filter).
When a cell has no value, then "." is stored (an empty cell may bring filtering problems).


You can import the CSV file in Excel or OpenOffice.
See : oophil_trace_csv.ods (truncated to 65536 rows, the trace is made of 94414 lines)
